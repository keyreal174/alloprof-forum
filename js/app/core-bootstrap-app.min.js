var core_bootstrapApp=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/js/",n(n.s=4)}([function(e,t){e.exports=lib_core_app},function(e,t,n){e.exports=n(0)(8)},function(e,t,n){e.exports=n(0)(171)},function(e,t,n){e.exports=n(0)(1)},function(e,t,n){"use strict";var o=n(1),r=n(2),a=n(5),i=l(n(10)),u=l(n(11));function l(e){return e&&e.__esModule?e:{default:e}}
/**
 * @author Adam Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license GPLv2
 */n(12),(0,r.debug)((0,o.getMeta)("debug",!1)),i.default.apiv2=u.default,(0,o.onContent)(function(e){(0,a._mountComponents)(e.target)}),(0,r.log)("Bootstrapping"),(0,o._executeReady)().then(function(){(0,r.log)("Bootstrapping complete.");var e=new CustomEvent("X-DOMContentReady",{bubbles:!0,cancelable:!1});document.dispatchEvent(e)}).catch(function(e){(0,r.logError)(e)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._mountComponents=function(e){(0,o.componentExists)("App")||(0,o.addComponent)("App",r.default);var t=e.querySelectorAll("[data-react]");Array.prototype.forEach.call(t,function(e){var t=e.getAttribute("data-react"),n=(0,o.getComponent)(t);n?u.default.render(i.default.createElement(n,null),e):(0,a.logError)("Could not find component %s.",t)})};var o=n(1),r=l(n(6)),a=n(2),i=l(n(3)),u=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=c(n(3)),i=n(1),u=n(7),l=c(n(8));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.PureComponent),r(t,[{key:"render",value:function(){var e=(0,i.getRoutes)().map(function(e){return a.default.createElement(e.type,o({key:e.key||e.props.path+(e.props.exact?"!":"")},e.props))});return e.push(a.default.createElement(u.Route,{key:"@not-found",component:l.default})),a.default.createElement(u.BrowserRouter,{basename:(0,i.getMeta)("context.basePath","")},a.default.createElement(u.Switch,null,e))}}]),t}();t.default=f},function(e,t,n){e.exports=n(0)(232)},function(e,t,n){e.exports=n(0)(260)},function(e,t,n){e.exports=n(0)(200)},function(e,t,n){e.exports=n(0)(10)},function(e,t,n){e.exports=n(0)(174)},function(e,t,n){"use strict";var o=n(1),r=n(13);
/**
 * Entrypoint for gradually replacing global.js
 *
 * At some point everything in this folder should be able to be removed (new base theme).
 *
 * @author Adam Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license GPLv2
 */
$.fn.atwho&&((0,o.onReady)(function(){return(0,r.initializeAtComplete)(".BodyBox,.js-bodybox")}),(0,o.onContent)(function(){return(0,r.initializeAtComplete)(".BodyBox,.js-bodybox")}),window.gdn.atCompleteInit=r.initializeAtComplete)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(o=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{!o&&u.return&&u.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();
/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * At-who setup for legacy @mentions.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * @author Adam Charron <adam.c@vanillaforums.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * @copyright 2009-2018 Vanilla Forums Inc.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * @license GPLv2
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          */
t.matchAtMention=v,t.matchFakeEmoji=w,t.initializeAtComplete=function(e,t){var n=t?t.contentWindow:"";$(e).atwho({at:"@",tpl:'<li data-value="@${name}" data-id="${id}">${name}</li>',limit:s,callbacks:{remote_filter:function(e,t){if((e=e||"").length>=f){for(var n=!0,r="",i=0,c=e.length;i<c;i++)if(r=e.slice(0,-i),u[r]&&u[r].length<p){l[e]=e,n=!1;break}var s=!1;for(var d in l)if(l.hasOwnProperty(d)&&null!==e.match(new RegExp("^"+d+"+"))){s=!0;break}!n||s||u[e]?t(n?u[e]:u[r]):$.getJSON((0,a.formatUrl)("/user/tagsearch"),{q:e,limit:p},function(n){Array.isArray(n)&&n.forEach(function(e){"object"===(void 0===e?"undefined":o(e))&&"string"==typeof e.name&&(e.name=e.name.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"))}),t(n),n.length?u[e]=n:l[e]=e})}},before_insert:function(e,t){var n=t.data("value")||"";n=n.slice(1,n.length);var o=/[^\w-]/.test(n),r=/(["'])(.+)(["'])/g.test(n),a=n;return o&&!r&&(a='"'+n+'"'),/.?@(["'])/.test(c||"")||(a=this.at+a),a},highlighter:function(e,t){if(!t)return e;var n=new RegExp(">\\s*(\\w*)("+t.replace("+","\\+")+")(\\w*)\\s*(\\s+.+)?<","ig");return e.replace(n,function(e,t,n,o,r){return void 0===o&&(o=""),void 0===r&&(r=""),"> "+t+"<strong>"+n+"</strong>"+o+r+" <"})},matcher:v},cWindow:n}).atwho({at:":",tpl:h,insert_tpl:"${atwho-data-value}",callbacks:{matcher:w,tplEval:function(e,t){return(0,i.log)(t)}},limit:s,data:b,cWindow:n}),n&&$(n).on("reposition.atwho",function(e,n,o){var r=o.view.$el,a=o.$inputor,i=parseInt(a.css("line-height"),10),u=$(t).offset(),l=(u?u.left:0)+n.left,c=u?u.top:0,f=0,s=o.at,p=o.query.text,d=$(".BodyBox,.js-bodybox"),m=d.css("font-size")+" "+d.css("font-family"),y=(s+p).width(m)-2;"@"===s&&(l-=y);":"===s&&(l-=2);$(r).each(function(e,t){var n=$(t).outerHeight(),o=$(t).height();n&&o&&n>0&&(f+=o+i)});var g=$(window).height()||0,b=$(window).scrollTop()||0,h=c+n.top-($(window).scrollTop()||0);c=g-(h-b)>=f?c+n.top+f-b:c+n.top-b;var v={left:l,top:c};$(r).offset(v)})};var a=n(1),i=n(2),u={},l={},c=void 0,f=(0,a.getMeta)("mentionMinChars",2),s=(0,a.getMeta)("mentionSuggestionCount",5),p=30,d=(0,a.getMeta)("emoji",{}),m=d.emoji||{},y=d.format||"",g=d.assetPath||"",b=Object.entries(m).map(function(e){var t=r(e,2),n=t[0],o=t[1],a=o.split(".");return{name:n,filename:o,basename:a[0],ext:"."+a[1]}}),h='<li data-value=":${name}:" class="at-suggest-emoji"><span class="emoji-wrap">'+y.replace(/{(.+?)}/g,"$${$1}").replace("%1$s","${src}").replace("%2$s","${name}").replace("${src}",g+"/${filename}").replace("${dir}",g)+'</span> <span class="emoji-name">${name}</span></li>';function v(e,t,n){var o=t.split("\n"),r=o[o.length-1];function a(e){var t='[^"\\u0000-\\u001f\\u007f-\\u009f\\u2028';return e&&(t+="\\s"),t+="]"}var i='@("('+a(!1)+'+?)"?|('+a(!0)+'+?)"?)(?:\\n|$)';n&&(i="(?:^|\\s)"+i);var u=new RegExp(i,"gi").exec(r);return u?(c=u[0],u[2]||u[1]):null}function w(e,t,n){e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),n&&(e="(?:^|\\s)"+e);var o=new RegExp(e+"([A-Za-z0-9_+-]*|[^\\x00-\\xff]*)(?:\\n)?$","gi").exec(t);return o?o[2]||o[1]:null}}]);
//# sourceMappingURL=core-bootstrap-app.min.js.map