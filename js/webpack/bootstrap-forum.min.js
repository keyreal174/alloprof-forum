var vanillaforum=(window.webpackJsonpvanillaforum=window.webpackJsonpvanillaforum||[]).push([[6],{184:function(t,e,n){n(32),t.exports=n(187)},187:function(t,e,n){"use strict";n.r(e);var a,r=n(1),o=n(3),i=n(29),c=n(9),l=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var a,r,o=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(a=o.next()).done;)i.push(a.value)}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},s={},f={},u=Object(r.g)("mentionMinChars",2),p=Object(r.g)("mentionSuggestionCount",5),g=30,b=Object(r.g)("emoji",{}),m=b.emoji||{},h=b.format||"",d=b.assetPath||"",v=Object.entries(m).map(function(t){var e=l(t,2),n=e[0],a=e[1],r=a.split(".");return{name:n,filename:a,basename:r[0],ext:"."+r[1]}}),w='<li data-value=":${name}:" class="at-suggest-emoji"><span class="emoji-wrap">'+h.replace(/{(.+?)}/g,"$${$1}").replace("%1$s","${src}").replace("%2$s","${name}").replace("${src}",d+"/${filename}").replace("${dir}",d)+'</span> <span class="emoji-name">${name}</span></li>';function j(t,e,n){var r=Object(o.i)(e,n);return r?(a=r.rawMatch,r.match):null}function y(t,e,n){t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),n&&(t="(?:^|\\s)"+t);var a=new RegExp(t+"([A-Za-z0-9_+-]*|[^\\x00-\\xff]*)(?:\\n)?$","gi").exec(e);return a?a[2]||a[1]:null}function O(t,e){var n=e?e.contentWindow:"";$(t).atwho({at:"@",tpl:'<li data-value="@${name}" data-id="${id}">${name}</li>',limit:p,callbacks:{remote_filter:function(t,e){if((t=t||"").length>=u){for(var n=!0,a="",o=0,i=t.length;o<i;o++)if(a=t.slice(0,-o),s[a]&&s[a].length<g){f[t]=t,n=!1;break}var c=!1;for(var l in f)if(f.hasOwnProperty(l)&&null!==t.match(new RegExp("^"+l+"+"))){c=!0;break}!n||c||s[t]?e(n?s[t]:s[a]):$.getJSON(Object(r.f)("/user/tagsearch"),{q:t,limit:g},function(n){Array.isArray(n)&&n.forEach(function(t){"object"==typeof t&&"string"==typeof t.name&&(t.name=t.name.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"))}),e(n),n.length?s[t]=n:f[t]=t})}},before_insert:function(t,e){var n=e.data("value")||"";n=n.slice(1,n.length);var r=/[^\w-]/.test(n),o=/(["'])(.+)(["'])/g.test(n),i=n;return r&&!o&&(i='"'+n+'"'),/.?@(["'])/.test(a||"")||(i=this.at+i),i},highlighter:function(t,e){if(!e)return t;var n=new RegExp(">\\s*(\\w*)("+e.replace("+","\\+")+")(\\w*)\\s*(\\s+.+)?<","ig");return t.replace(n,function(t,e,n,a,r){return void 0===a&&(a=""),void 0===r&&(r=""),"> "+e+"<strong>"+n+"</strong>"+a+r+" <"})},matcher:j},cWindow:n}).atwho({at:":",tpl:w,insert_tpl:"${atwho-data-value}",callbacks:{matcher:y,tplEval:function(t,e){return Object(o.f)(e)}},limit:p,data:v,cWindow:n}),n&&$(n).on("reposition.atwho",function(t,n,a){var r=a.view.$el,o=a.$inputor,i=parseInt(o.css("line-height"),10),c=$(e).offset(),l=(c?c.left:0)+n.left,s=c?c.top:0,f=0,u=a.at,p=a.query.text,g=$(".BodyBox,.js-bodybox"),b=g.css("font-size")+" "+g.css("font-family"),m=(u+p).width(b)-2;"@"===u&&(l-=m),":"===u&&(l-=2),$(r).each(function(t,e){var n=$(e).outerHeight(),a=$(e).height();n&&a&&n>0&&(f+=a+i)});var h=$(window).height()||0,d=$(window).scrollTop()||0,v={left:l,top:s=h-(s+n.top-($(window).scrollTop()||0)-d)>=f?s+n.top+f-d:s+n.top-d};$(r).offset(v)})}
/**
 * Entrypoint for gradually replacing global.js
 *
 * At some point everything in this folder should be able to be removed (new base theme).
 *
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */$.fn.atwho&&(Object(r.l)(function(){return O(".BodyBox,.js-bodybox")}),Object(r.k)(function(){return O(".BodyBox,.js-bodybox")}),window.gdn.atCompleteInit=O),
/**
 * Primary bootstrapping of the frontend JS. This entrypoint should be the last once executed.
 *
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */
Object(o.b)(Object(r.g)("debug",!1)),i.a.apiv2=c.a,Object(o.f)("Bootstrapping"),Object(r.a)().then(function(){Object(o.f)("Bootstrapping complete."),Object(r.k)(function(t){Object(r.b)(t.target)});var t=new CustomEvent("X-DOMContentReady",{bubbles:!0,cancelable:!1});document.dispatchEvent(t)}).catch(function(t){Object(o.g)(t)})},32:function(t,e,n){"use strict";n.r(e);var a=n(1);
/**
 * Set wepback's public path.
 * Otherwise the lookups of dynamically imported webpack files can fail on sites that have a different webroot
 * Eg. installed in a subfolder / using Reverse Proxy.
 *
 * @author Adam Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license http://www.opensource.org/licenses/gpl-2.0.php GNU GPL v2
 */n.p=Object(a.e)("/")}},[[184,2,0,1]]]);
//# sourceMappingURL=bootstrap-forum.min.js.map?e6f9775a0ae7098228f6