(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{166:function(t,a,e){e(31),t.exports=e(167)},167:function(t,a,e){"use strict";e.r(a);var i=e(2),r=e(6),s=e(23),n=e(9),o=e(41);
/**
 * Entrypoint for gradually replacing global.js
 *
 * At some point everything in this folder should be able to be removed (new base theme).
 *
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */
$.fn.atwho&&(Object(i.k)(function(){return Object(o.a)(".BodyBox,.js-bodybox")}),Object(i.j)(function(){return Object(o.a)(".BodyBox,.js-bodybox")}),window.gdn.atCompleteInit=o.a),
/**
 * Primary bootstrapping of the frontend JS. This entrypoint should be the last once executed.
 *
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */
Object(r.b)(Object(i.f)("debug",!1)),s.a.apiv2=n.a,Object(r.f)("Bootstrapping"),Object(i.a)().then(function(){Object(r.f)("Bootstrapping complete."),Object(i.j)(function(t){Object(i.b)(t.target)});var t=new CustomEvent("X-DOMContentReady",{bubbles:!0,cancelable:!1});document.dispatchEvent(t)}).catch(function(t){Object(r.g)(t)})},31:function(t,a,e){
/**
 * Set wepback's public path.
 * Otherwise the lookups of dynamically imported webpack files can fail on sites that have a different webroot
 * Eg. installed in a subfolder / using Reverse Proxy.
 *
 * @author Adam Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license http://www.opensource.org/licenses/gpl-2.0.php GNU GPL v2
 */
const i=window.gdn&&window.gdn.meta&&window.gdn.meta.WebRoot,r=null!=i?i:"/";e.p=r},41:function(t,a,e){"use strict";(function(t){e.d(a,"a",function(){return j});var i=e(2),r=e(6);!function(){var a=e(1).enterModule;a&&a(t)}();
/**
 * At-who setup for legacy @mentions.
 *
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */
var s,n=function(t,a){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var i,r,s=e.call(t),n=[];try{for(;(void 0===a||a-- >0)&&!(i=s.next()).done;)n.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}return n},o={},c={},l=Object(i.f)("mentionMinChars",2),p=Object(i.f)("mentionSuggestionCount",5),g=30,h=Object(i.f)("emoji",{}),d=h.emoji||{},u=h.format||"",v=h.assetPath||"",f=Object.entries(d).map(function(t){var a=n(t,2),e=a[0],i=a[1],r=i.split(".");return{name:e,filename:i,basename:r[0],ext:"."+r[1]}}),b=u.replace(/{(.+?)}/g,"$${$1}").replace("%1$s","${src}").replace("%2$s","${name}").replace("${src}",v+"/${filename}").replace("${dir}",v),w='<li data-value=":${name}:" class="at-suggest-emoji"><span class="emoji-wrap">'+b+'</span> <span class="emoji-name">${name}</span></li>';function m(t,a,e){var i=Object(r.i)(a,e);return i?(s=i.rawMatch,i.match):null}function y(t,a,e){t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),e&&(t="(?:^|\\s)"+t);var i=new RegExp(t+"([A-Za-z0-9_+-]*|[^\\x00-\\xff]*)(?:\\n)?$","gi").exec(a);return i?i[2]||i[1]:null}function j(t,a){var e=a?a.contentWindow:"";$(t).atwho({at:"@",tpl:'<li data-value="@${name}" data-id="${id}">${name}</li>',limit:p,callbacks:{remote_filter:function(t,a){if((t=t||"").length>=l){for(var e=!0,r="",s=0,n=t.length;s<n;s++)if(r=t.slice(0,-s),o[r]&&o[r].length<g){c[t]=t,e=!1;break}var p=!1;for(var h in c)if(c.hasOwnProperty(h)&&null!==t.match(new RegExp("^"+h+"+"))){p=!0;break}!e||p||o[t]?a(e?o[t]:o[r]):$.getJSON(Object(i.e)("/user/tagsearch"),{q:t,limit:g},function(e){Array.isArray(e)&&e.forEach(function(t){"object"==typeof t&&"string"==typeof t.name&&(t.name=t.name.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"))}),a(e),e.length?o[t]=e:c[t]=t})}},before_insert:function(t,a){var e=a.data("value")||"";e=e.slice(1,e.length);var i=/[^\w-]/.test(e),r=/(["'])(.+)(["'])/g.test(e),n=e;return i&&!r&&(n='"'+e+'"'),/.?@(["'])/.test(s||"")||(n=this.at+n),n},highlighter:function(t,a){if(!a)return t;var e=new RegExp(">\\s*(\\w*)("+a.replace("+","\\+")+")(\\w*)\\s*(\\s+.+)?<","ig");return t.replace(e,function(t,a,e,i,r){return void 0===i&&(i=""),void 0===r&&(r=""),"> "+a+"<strong>"+e+"</strong>"+i+r+" <"})},matcher:m},cWindow:e}).atwho({at:":",tpl:w,insert_tpl:"${atwho-data-value}",callbacks:{matcher:y,tplEval:function(t,a){return Object(r.f)(a)}},limit:p,data:f,cWindow:e}),e&&$(e).on("reposition.atwho",function(t,e,i){var r=i.view.$el,s=i.$inputor,n=parseInt(s.css("line-height"),10),o=$(a).offset(),c=(o?o.left:0)+e.left,l=o?o.top:0,p=0,g=i.at,h=i.query.text,d=$(".BodyBox,.js-bodybox"),u=d.css("font-size")+" "+d.css("font-family"),v=(g+h).width(u)-2;"@"===g&&(c-=v),":"===g&&(c-=2),$(r).each(function(t,a){var e=$(a).outerHeight(),i=$(a).height();e&&i&&e>0&&(p+=i+n)});var f=$(window).height()||0,b=$(window).scrollTop()||0,w={left:c,top:l=f-(l+e.top-($(window).scrollTop()||0)-b)>=p?l+e.top+p-b:l+e.top-b};$(r).offset(w)})}!function(){var a=e(1).default,i=e(1).leaveModule;a&&(a.register(n,"__read","/git/srv/vanilla/applications/dashboard/src/scripts/legacy/atwho.ts"),a.register(o,"atCache","/git/srv/vanilla/applications/dashboard/src/scripts/legacy/atwho.ts"),a.register(c,"atEmpty","/git/srv/vanilla/applications/dashboard/src/scripts/legacy/atwho.ts"),a.register(s,"rawMatch","/git/srv/vanilla/applications/dashboard/src/scripts/legacy/atwho.ts"),a.register(l,"minCharacters","/git/srv/vanilla/applications/dashboard/src/scripts/legacy/atwho.ts"),a.register(p,"maxSuggestions","/git/srv/vanilla/applications/dashboard/src/scripts/legacy/atwho.ts"),a.register(g,"serverLimit","/git/srv/vanilla/applications/dashboard/src/scripts/legacy/atwho.ts"),a.register(h,"emojiData","/git/srv/vanilla/applications/dashboard/src/scripts/legacy/atwho.ts"),a.register(d,"emojis","/git/srv/vanilla/applications/dashboard/src/scripts/legacy/atwho.ts"),a.register(u,"emojiFormat","/git/srv/vanilla/applications/dashboard/src/scripts/legacy/atwho.ts"),a.register(v,"emojiAssetPath","/git/srv/vanilla/applications/dashboard/src/scripts/legacy/atwho.ts"),a.register(f,"emojiList","/git/srv/vanilla/applications/dashboard/src/scripts/legacy/atwho.ts"),a.register(b,"emojiContentTemplate","/git/srv/vanilla/applications/dashboard/src/scripts/legacy/atwho.ts"),a.register(w,"emojiTemplate","/git/srv/vanilla/applications/dashboard/src/scripts/legacy/atwho.ts"),a.register(m,"matchAtMention","/git/srv/vanilla/applications/dashboard/src/scripts/legacy/atwho.ts"),a.register(y,"matchFakeEmoji","/git/srv/vanilla/applications/dashboard/src/scripts/legacy/atwho.ts"),a.register(j,"initializeAtComplete","/git/srv/vanilla/applications/dashboard/src/scripts/legacy/atwho.ts"),i(t))}()}).call(this,e(4)(t))}},[[166,2,0,1]]]);
//# sourceMappingURL=bootstrap-forum.min.js.map