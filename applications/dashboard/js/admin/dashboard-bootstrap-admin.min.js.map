{"version":3,"sources":["webpack://dashboard_bootstrapAdmin/webpack/bootstrap","webpack://dashboard_bootstrapAdmin/delegated ./node_modules/react/index.js from dll-reference lib_dashboard_admin","webpack://dashboard_bootstrapAdmin/external \"lib_dashboard_admin\"","webpack://dashboard_bootstrapAdmin/delegated ./applications/dashboard/node_modules/react-router-dom/es/index.js from dll-reference lib_dashboard_admin","webpack://dashboard_bootstrapAdmin/./node_modules/validator/lib/util/assertString.js","webpack://dashboard_bootstrapAdmin/delegated ./node_modules/sprintf-js/src/sprintf.js from dll-reference lib_dashboard_admin","webpack://dashboard_bootstrapAdmin//git/srv/vanilla/node_modules/qs/lib/formats.js","webpack://dashboard_bootstrapAdmin//git/srv/vanilla/node_modules/qs/lib/utils.js","webpack://dashboard_bootstrapAdmin/./node_modules/validator/lib/util/merge.js","webpack://dashboard_bootstrapAdmin//git/srv/vanilla/node_modules/qs/lib/index.js","webpack://dashboard_bootstrapAdmin/delegated ./applications/dashboard/node_modules/axios/index.js from dll-reference lib_dashboard_admin","webpack://dashboard_bootstrapAdmin/./node_modules/validator/lib/isURL.js","webpack://dashboard_bootstrapAdmin/delegated ./node_modules/react-dom/index.js from dll-reference lib_dashboard_admin","webpack://dashboard_bootstrapAdmin/./src/scripts/gdn.ts","webpack://dashboard_bootstrapAdmin/./src/scripts/utility.ts","webpack://dashboard_bootstrapAdmin/./src/scripts/components/DocumentTitle.tsx","webpack://dashboard_bootstrapAdmin/./src/scripts/components/NotFoundPage.tsx","webpack://dashboard_bootstrapAdmin/./src/scripts/components/Router.tsx","webpack://dashboard_bootstrapAdmin/./src/scripts/application.tsx","webpack://dashboard_bootstrapAdmin/./src/scripts/legacy/atwho.ts","webpack://dashboard_bootstrapAdmin/./src/scripts/apiv2.ts","webpack://dashboard_bootstrapAdmin/./src/scripts/legacy/index.ts","webpack://dashboard_bootstrapAdmin/./src/scripts/entries/bootstrap.ts","webpack://dashboard_bootstrapAdmin//git/srv/vanilla/node_modules/qs/lib/parse.js","webpack://dashboard_bootstrapAdmin//git/srv/vanilla/node_modules/qs/lib/stringify.js","webpack://dashboard_bootstrapAdmin/./node_modules/validator/lib/isIP.js","webpack://dashboard_bootstrapAdmin/./node_modules/validator/lib/isFQDN.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","default","object","property","prototype","hasOwnProperty","p","s","t","e","lib_dashboard_admin","input","String","TypeError","replace","percentTwenties","formatters","RFC1738","RFC3986","has","hexTable","array","push","toString","toUpperCase","arrayToObject","source","options","obj","plainObjects","create","length","merge","target","Array","isArray","allowPrototypes","concat","mergeTarget","forEach","item","keys","reduce","acc","key","assign","decode","str","decodeURIComponent","encode","string","out","charCodeAt","charAt","compact","queue","prop","refs","j","val","indexOf","pop","compacted","isRegExp","isBuffer","constructor","arguments","defaults","stringify","parse","formats","url","_assertString2","test","_merge2","default_url_options","protocol","auth","host","hostname","port","port_str","split","ipv6","shift","require_valid_protocol","protocols","require_protocol","allow_protocol_relative_urls","substr","join","require_host","ipv6_match","match","wrapped_ipv6","parseInt","_isIP2","_isFQDN2","host_whitelist","checkHost","host_blacklist","_interopRequireDefault","require_tld","allow_underscores","allow_trailing_dot","matches","a","gdn","window","meta","permissions","translations","scripts_gdn","Symbol","iterator","next","done","error","return","_debug","log","_i","console","apply","__spread","logError","_super","DocumentTitle","__extends","componentDidMount","document","title","this","getHeadTitle","props","componentWillUpdate","nextProps","render","children","reactfrom_dll_reference_lib_dashboard_admin_default","createElement","siteTitle","getMeta","parts","Component","NotFoundPage","NotFoundPage_extends","className","components_DocumentTitle","message","sprintffrom_dll_reference_lib_dashboard_admin","sprintf","type","toLowerCase","defaultProps","PureComponent","Router","Router_extends","routes","_routes","map","route","__assign","path","exact","esfrom_dll_reference_lib_dashboard_admin","Route","component","components_NotFoundPage","BrowserRouter","basename","Switch","defaultValue","haystack","parts_1","application_values","parts_1_1","part","defaultTranslation","formatUrl","urlFormat","_components","_readyHandlers","onContent","callback","addEventListener","rawMatch","newValue","apiv2","axiosfrom_dll_reference_lib_dashboard_admin_default","baseURL","headers","common","X-Requested-With","paramsSerializer","params","lib_default","indices","atCache","atEmpty","minCharacters","maxSuggestions","serverLimit","emojiData","emojis","emoji","emojiFormat","format","emojiAssetPath","assetPath","emojiList","entries","_a","_b","atwho_read","index","emojiImageUrl","filename","ext","emojiTemplate","atwho_matchAtMention","flag","subtext","shouldStartWithSpace","lines","lastLine","nonExcludedCharacters","excludeWhiteSpace","excluded","regexStr","RegExp","exec","matchFakeEmoji","initializeAtComplete","editorElement","iframe","iframeWindow","contentWindow","$","atwho","at","tpl","limit","callbacks","remote_filter","query","shouldContinueFiltering","filterString","slice","isQueryEmpty","getJSON","q","data","result","before_insert","$li","username","requiresQuotation","hasQuotation","insert","highlighter","li","regexp","$1","$2","$3","$4","matcher","cWindow","insert_tpl","tplEval","on","event","offset","context","suggestionElement","view","$el","$inputor","lineHeight","css","iframeOffset","leftCoordinate","left","topCoordinate","top","selectHeight","text","fontMirror","font","fontWidth","width","each","element","outerHeight","height","windowHeight","scrollPosition","scrollTop","newOffset","fn","atCompleteInit","parent","components_Router","querySelectorAll","node","getAttribute","react_domfrom_dll_reference_lib_dashboard_admin_default","_mountComponents","Promise","resolve","handlerPromises","handler","all","then","readyState","contentEvent","CustomEvent","bubbles","cancelable","dispatchEvent","catch","utils","allowDots","arrayLimit","decoder","delimiter","depth","parameterLimit","strictNullHandling","parseKeys","givenKey","child","segment","chain","leaf","root","cleanRoot","isNaN","parseArrays","opts","ignoreQueryPrefix","tempObj","cleanStr","Infinity","bracketEqualsPos","pos","newObj","arrayPrefixGenerators","brackets","prefix","repeat","toISO","Date","toISOString","encoder","encodeValuesOnly","serializeDate","date","skipNulls","generateArrayPrefix","filter","sort","formatter","objKeys","values","arrayFormat","joined","addQueryPrefix","isIP","version","ipv4Maybe","b","blocks","foundOmissionBlock","foundIPv4TransitionBlock","expectedNumberOfBlocks","ipv6Block","default_fqdn_options","substring","tld"],"mappings":"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","file":"admin/dashboard-bootstrap-admin.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/applications/dashboard/js/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n","module.exports = (__webpack_require__(1))(1);","module.exports = lib_dashboard_admin;","module.exports = (__webpack_require__(1))(83);","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = assertString;\nfunction assertString(input) {\n  var isString = typeof input === 'string' || input instanceof String;\n\n  if (!isString) {\n    throw new TypeError('This library (validator.js) validates strings only');\n  }\n}\nmodule.exports = exports['default'];","module.exports = (__webpack_require__(1))(81);","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nmodule.exports = {\n    'default': 'RFC3986',\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return value;\n        }\n    },\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    var obj;\n\n    while (queue.length) {\n        var item = queue.pop();\n        obj = item.obj[item.prop];\n\n        if (Array.isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n\n    return obj;\n};\n\nexports.arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nexports.merge = function merge(target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        } else if (typeof target === 'object') {\n            if (options.plainObjects || options.allowPrototypes || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (Array.isArray(target) && !Array.isArray(source)) {\n        mergeTarget = exports.arrayToObject(target, options);\n    }\n\n    if (Array.isArray(target) && Array.isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                if (target[i] && typeof target[i] === 'object') {\n                    target[i] = exports.merge(target[i], item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = exports.merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nexports.assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nexports.decode = function (str) {\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nexports.encode = function encode(str) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nexports.compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    return compactQueue(queue);\n};\n\nexports.isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nexports.isBuffer = function isBuffer(obj) {\n    if (obj === null || typeof obj === 'undefined') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = merge;\nfunction merge() {\n  var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var defaults = arguments[1];\n\n  for (var key in defaults) {\n    if (typeof obj[key] === 'undefined') {\n      obj[key] = defaults[key];\n    }\n  }\n  return obj;\n}\nmodule.exports = exports['default'];","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","module.exports = (__webpack_require__(1))(118);","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isURL;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _isFQDN = require('./isFQDN');\n\nvar _isFQDN2 = _interopRequireDefault(_isFQDN);\n\nvar _isIP = require('./isIP');\n\nvar _isIP2 = _interopRequireDefault(_isIP);\n\nvar _merge = require('./util/merge');\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar default_url_options = {\n  protocols: ['http', 'https', 'ftp'],\n  require_tld: true,\n  require_protocol: false,\n  require_host: true,\n  require_valid_protocol: true,\n  allow_underscores: false,\n  allow_trailing_dot: false,\n  allow_protocol_relative_urls: false\n};\n\nvar wrapped_ipv6 = /^\\[([^\\]]+)\\](?::([0-9]+))?$/;\n\nfunction isRegExp(obj) {\n  return Object.prototype.toString.call(obj) === '[object RegExp]';\n}\n\nfunction checkHost(host, matches) {\n  for (var i = 0; i < matches.length; i++) {\n    var match = matches[i];\n    if (host === match || isRegExp(match) && match.test(host)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction isURL(url, options) {\n  (0, _assertString2.default)(url);\n  if (!url || url.length >= 2083 || /[\\s<>]/.test(url)) {\n    return false;\n  }\n  if (url.indexOf('mailto:') === 0) {\n    return false;\n  }\n  options = (0, _merge2.default)(options, default_url_options);\n  var protocol = void 0,\n      auth = void 0,\n      host = void 0,\n      hostname = void 0,\n      port = void 0,\n      port_str = void 0,\n      split = void 0,\n      ipv6 = void 0;\n\n  split = url.split('#');\n  url = split.shift();\n\n  split = url.split('?');\n  url = split.shift();\n\n  split = url.split('://');\n  if (split.length > 1) {\n    protocol = split.shift();\n    if (options.require_valid_protocol && options.protocols.indexOf(protocol) === -1) {\n      return false;\n    }\n  } else if (options.require_protocol) {\n    return false;\n  } else if (options.allow_protocol_relative_urls && url.substr(0, 2) === '//') {\n    split[0] = url.substr(2);\n  }\n  url = split.join('://');\n\n  if (url === '') {\n    return false;\n  }\n\n  split = url.split('/');\n  url = split.shift();\n\n  if (url === '' && !options.require_host) {\n    return true;\n  }\n\n  split = url.split('@');\n  if (split.length > 1) {\n    auth = split.shift();\n    if (auth.indexOf(':') >= 0 && auth.split(':').length > 2) {\n      return false;\n    }\n  }\n  hostname = split.join('@');\n\n  port_str = null;\n  ipv6 = null;\n  var ipv6_match = hostname.match(wrapped_ipv6);\n  if (ipv6_match) {\n    host = '';\n    ipv6 = ipv6_match[1];\n    port_str = ipv6_match[2] || null;\n  } else {\n    split = hostname.split(':');\n    host = split.shift();\n    if (split.length) {\n      port_str = split.join(':');\n    }\n  }\n\n  if (port_str !== null) {\n    port = parseInt(port_str, 10);\n    if (!/^[0-9]+$/.test(port_str) || port <= 0 || port > 65535) {\n      return false;\n    }\n  }\n\n  if (!(0, _isIP2.default)(host) && !(0, _isFQDN2.default)(host, options) && (!ipv6 || !(0, _isIP2.default)(ipv6, 6))) {\n    return false;\n  }\n\n  host = host || ipv6;\n\n  if (options.host_whitelist && !checkHost(host, options.host_whitelist)) {\n    return false;\n  }\n  if (options.host_blacklist && checkHost(host, options.host_blacklist)) {\n    return false;\n  }\n\n  return true;\n}\nmodule.exports = exports['default'];","module.exports = (__webpack_require__(1))(94);","/**\n * A module to isolate meta data passed from the server into a single dependency.\n * This should always be used instead of accessing window.gdn directly.\n *\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\ninterface IGdn {\n    meta: AnyObject;\n    permissions: AnyObject;\n    translations: AnyObject;\n    [key: string]: any;\n}\n\n/** The gdn object may be set in an inline script in the head of the document. */\nconst gdn = window.gdn || {};\n\nif (!(\"meta\" in gdn)) {\n    gdn.meta = {};\n}\n\nif (!(\"permissions\" in gdn)) {\n    gdn.permissions = {};\n}\n\nif (!(\"translations\" in gdn)) {\n    gdn.translations = {};\n}\n\nexport default gdn as IGdn;\n","/**\n * General utility functions.\n * This file should have NO external dependencies other than javascript.\n *\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\n/**\n * @type {boolean} The current debug setting.\n * @private\n */\nlet _debug = false;\n\n/**\n * Get or set the debug flag.\n *\n * @param newValue - The new value of debug.\n * @returns the current debug setting.\n */\nexport function debug(newValue?: boolean): boolean {\n    if (newValue !== undefined) {\n        _debug = newValue;\n    }\n\n    return _debug;\n}\n\ntype NormalCallback = (...args: any[]) => any;\ntype PromiseCallback = (...args: any[]) => Promise<any>;\n\nexport type PromiseOrNormalCallback = NormalCallback | PromiseCallback;\n\n/**\n * Resolve an array of functions that return promises sequentially.\n *\n * @param promiseFunctions - The functions to execute.\n *\n * @returns An array of all results in sequential order.\n *\n * @example\n * const urls = ['/url1', '/url2', '/url3']\n * const functions = urls.map(url => () => fetch(url))\n * resolvePromisesSequentially(funcs)\n *   .then(console.log)\n *   .catch(console.error)\n */\nexport function resolvePromisesSequentially(promiseFunctions: PromiseOrNormalCallback[]): Promise<any[]> {\n    if (!Array.isArray(promiseFunctions)) {\n        throw new Error(\"First argument needs to be an array of Promises\");\n    }\n\n    return new Promise((resolve, reject) => {\n        let count = 0;\n        let results = [];\n\n        function iterationFunction(previousPromise, currentPromise) {\n            return previousPromise\n                .then(result => {\n                    if (count++ !== 0) {\n                        results = results.concat(result);\n                    }\n\n                    return currentPromise(result, results, count);\n                })\n                .catch(err => reject(err));\n        }\n\n        promiseFunctions = promiseFunctions.concat(() => Promise.resolve());\n\n        promiseFunctions.reduce(iterationFunction, Promise.resolve(false)).then(() => {\n            resolve(results);\n        });\n    });\n}\n\n/**\n * Log something to console.\n *\n * This only prints in debug mode.\n *\n * @param value - The value to log.\n */\nexport function log(...value: any[]) {\n    if (_debug) {\n        // tslint:disable-next-line:no-console\n        console.log(...value);\n    }\n}\n\n/**\n * Log an error to console.\n *\n * @param value - The value to log.\n */\nexport function logError(...value: any[]) {\n    // tslint:disable-next-line:no-console\n    console.error(...value);\n}\n\n/**\n * Log a warning to console.\n *\n * @param value - The value to log.\n */\nexport function logWarning(...value: any[]) {\n    // tslint:disable-next-line:no-console\n    console.warn(...value);\n}\n\n/**\n * A simple, fast method of hashing a string. Similar to Java's hash function.\n * https://stackoverflow.com/a/7616484/1486603\n *\n * @param str - The string to hash.\n *\n * @returns The hash code returned.\n */\nexport function hashString(str: string): number {\n    function hashReduce(prevHash, currVal) {\n        // tslint:disable-next-line:no-bitwise\n        return (prevHash << 5) - prevHash + currVal.charCodeAt(0);\n    }\n    return str.split(\"\").reduce(hashReduce, 0);\n}\n\ninterface IClass {\n    new (): any;\n}\n\nexport function isInstanceOfOneOf(needle: any, haystack: IClass[]) {\n    for (const classItem of haystack) {\n        if (needle instanceof classItem) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function simplifyFraction(numerator: number, denominator: number) {\n    const findGCD = (a, b) => {\n        return b ? findGCD(b, a % b) : a;\n    };\n    const gcd = findGCD(numerator, denominator);\n\n    numerator = numerator / gcd;\n    denominator = denominator / gcd;\n\n    return {\n        numerator,\n        denominator,\n        shorthand: denominator + \":\" + numerator,\n    };\n}\n\ninterface IMentionMatch {\n    match: string;\n    rawMatch: string;\n}\n\n/**\n * Custom matching to allow quotation marks in the matching string as well as spaces.\n * Spaces make things more complicated.\n *\n * @param subtext - The string to be tested.\n * @param shouldStartWithSpace - Should the pattern include a test for a whitespace prefix?\n * @returns Matching string if successful.  Null on failure to match.\n */\nexport function matchAtMention(subtext: string, shouldStartWithSpace: boolean = false): IMentionMatch | null {\n    // Split the string at the lines to allow for a simpler regex.\n    const lines = subtext.split(\"\\n\");\n    const lastLine = lines[lines.length - 1];\n\n    // If you change this you MUST change the regex in src/scripts/__tests__/legacy.test.js !!!\n    /**\n     * Put together the non-excluded characters.\n     *\n     * @param {boolean} excludeWhiteSpace - Whether or not to exclude whitespace characters.\n     *\n     * @returns {string} A Regex string.\n     */\n    function nonExcludedCharacters(excludeWhiteSpace) {\n        let excluded =\n            \"[^\" +\n            '\"' + // Quote character\n            \"\\\\u0000-\\\\u001f\\\\u007f-\\\\u009f\" + // Control characters\n            \"\\\\u2028\"; // Line terminator\n\n        if (excludeWhiteSpace) {\n            excluded += \"\\\\s\";\n        }\n\n        excluded += \"]\";\n        return excluded;\n    }\n\n    let regexStr =\n        \"@\" + // @ Symbol triggers the match\n        \"(\" +\n        // One or more non-greedy characters that aren't excluded. White is allowed, but a starting quote is required.\n        '\"(' +\n        nonExcludedCharacters(false) +\n        '+?)\"?' +\n        \"|\" + // Or\n        // One or more non-greedy characters that aren't exluded. Whitespace is excluded.\n        \"(\" +\n        nonExcludedCharacters(true) +\n        '+?)\"?' +\n        \")\" +\n        \"(?:\\\\n|$)\"; // Newline terminates.\n\n    // Determined by at.who library\n    if (shouldStartWithSpace) {\n        regexStr = \"(?:^|\\\\s)\" + regexStr;\n    }\n    const regex = new RegExp(regexStr, \"gi\");\n    const match = regex.exec(lastLine);\n    if (match) {\n        return {\n            rawMatch: match[0],\n            match: match[2] || match[1], // Return either of the matching groups (quoted or unquoted).\n        };\n    }\n\n    // No match\n    return null;\n}\n/**\n * Re-exported from sprintf-js https://www.npmjs.com/package/sprintf-js\n */\n// export const sprintf = sprintfJs.sprintf;\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport { getMeta } from \"@dashboard/application\";\n\n/**\n * A component for displaying and setting the document title.\n *\n * This component can render a default title or a custom title depending on the usage.\n *\n * @example <caption>Render the title in the default h1</caption>\n * <DocumentTitle title=\"Page Title\" />\n *\n * @example <caption>Render a custom title</caption>\n * <DocumentTitle title=\"Title Bar Title >\n *     <h1>Page Title</h1>\n * </DocumentTitle>\n */\nexport default class DocumentTitle extends React.Component<IProps> {\n    public componentDidMount() {\n        document.title = this.getHeadTitle(this.props);\n    }\n\n    public componentWillUpdate(nextProps: IProps) {\n        document.title = this.getHeadTitle(nextProps);\n    }\n\n    public render() {\n        if (this.props.children) {\n            return this.props.children;\n        } else {\n            return <h1>{this.props.title}</h1>;\n        }\n    }\n\n    /**\n     * Calculate the status bar title from the props.\n     *\n     * @param props - The props used to calculate the title.\n     * @returns Returns the title as a string.\n     */\n    private getHeadTitle(props: IProps): string {\n        const siteTitle: string = getMeta(\"ui.siteName\", \"\");\n        const parts: string[] = [];\n\n        if (props.title && props.title.length > 0) {\n            parts.push(props.title);\n        }\n        if (siteTitle.length > 0 && siteTitle !== props.title) {\n            parts.push(siteTitle);\n        }\n\n        return parts.join(\" - \");\n    }\n}\n\ninterface IProps {\n    title: string;\n    children?: React.ReactNode;\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport { sprintf } from \"sprintf-js\";\nimport { t } from \"@dashboard/application\";\nimport DocumentTitle from \"@dashboard/components/DocumentTitle\";\n\nexport default class NotFoundPage extends React.PureComponent<IProps> {\n    public static defaultProps = {\n        type: \"Page\",\n    };\n\n    public render() {\n        return (\n            <div className=\"Center SplashInfo\">\n                <DocumentTitle title={this.title} />\n                <div>{this.message}</div>\n            </div>\n        );\n    }\n\n    private get title() {\n        return this.props.title || sprintf(t(\"%s Not Found\"), t(this.props.type));\n    }\n\n    private get message() {\n        return (\n            this.props.message ||\n            sprintf(t(\"The %s you were looking for could not be found.\"), t(this.props.type.toLowerCase()))\n        );\n    }\n}\n\ninterface IProps {\n    type: string;\n    title?: string;\n    message?: string;\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport { BrowserRouter, Route, RouteProps, Switch } from \"react-router-dom\";\nimport { getRoutes, getMeta } from \"@dashboard/application\";\nimport NotFoundPage from \"@dashboard/components/NotFoundPage\";\n\n/**\n * The root application component.\n *\n * This component renders the top-level pages that have been registered with {@link module:application.addRoutes}.\n */\nexport default class Router extends React.PureComponent {\n    public render() {\n        const routes = getRoutes().map((route: React.ReactElement<RouteProps>) => {\n            return <route.type key={route.key || route.props.path + (route.props.exact ? \"!\" : \"\")} {...route.props} />;\n        });\n\n        routes.push(<Route key=\"@not-found\" component={NotFoundPage} />);\n\n        return (\n            <BrowserRouter basename={getMeta(\"context.basePath\", \"\")}>\n                <Switch>{routes}</Switch>\n            </BrowserRouter>\n        );\n    }\n}\n","/**\n * Application functions for interop between Components in different packages.\n *\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React, { ComponentClass } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { RouteProps } from \"react-router-dom\";\nimport gdn from \"@dashboard/gdn\";\nimport { PromiseOrNormalCallback, logError } from \"@dashboard/utility\";\nimport isUrl from \"validator/lib/isURL\";\nimport Router from \"./components/Router\";\n\n/**\n * Get a piece of metadata passed from the server.\n *\n * @param key - The key to lookup.\n * @param defaultValue - A fallback value in case the key cannot be found.\n *\n * @returns Returns a meta value or the default value.\n */\nexport function getMeta(key: string, defaultValue?: any) {\n    if (!gdn.meta) {\n        return defaultValue;\n    }\n\n    const parts = key.split(\".\");\n    let haystack = gdn.meta;\n\n    for (const part of parts) {\n        if (!haystack.hasOwnProperty(part)) {\n            return defaultValue;\n        }\n        haystack = haystack[part];\n    }\n    return haystack;\n}\n\n/**\n * Set a piece of metadata. This will override what was passed from the server.\n *\n * @param key - The key to store under.\n * @param value - The value to set.\n */\nexport function setMeta(key: string, value: any) {\n    const parts = key.split(\".\");\n    const last = parts.pop();\n\n    if (!last) {\n        throw new Error(`Unable to set meta value ${key}. ${last} is not a valid object key.`);\n    }\n\n    let haystack = gdn.meta;\n\n    for (const part of parts) {\n        if (haystack[part] === null || typeof haystack[part] !== \"object\") {\n            haystack[part] = {};\n        }\n        haystack = haystack[part];\n    }\n    haystack[last] = value;\n}\n\n/**\n * Translate a string into the current locale.\n *\n * @param str - The string to translate.\n * @param defaultTranslation - The default translation to use.\n *\n * @returns Returns the translation or the default.\n */\nexport function translate(str: string, defaultTranslation?: string): string {\n    // Codes that begin with @ are considered literals.\n    if (str.substr(0, 1) === \"@\") {\n        return str.substr(1);\n    }\n\n    if (gdn.translations[str] !== undefined) {\n        return gdn.translations[str];\n    }\n\n    return defaultTranslation !== undefined ? defaultTranslation : str;\n}\n\n/**\n * The t function is an alias for translate.\n */\nexport const t = translate;\n\n/**\n * Determine if a string is an allowed URL.\n *\n * In the future this may be extended to check if we want to whitelist/blacklist various URLs.\n *\n * @param input - The string to check.\n */\nexport function isAllowedUrl(input: string): boolean {\n    // Options https://github.com/chriso/validator.js#validators\n    const options = {\n        protocols: [\"http\", \"https\"],\n        require_tld: true,\n        require_protocol: true,\n        require_host: true,\n        require_valid_protocol: true,\n        allow_trailing_dot: false,\n        allow_protocol_relative_urls: false,\n    };\n    return isUrl(input, options);\n}\n\n/**\n * Format a URL in the format passed from the controller.\n *\n * @param path - The path to format.\n *\n * @returns Returns a URL that can be used in the APP.\n */\nexport function formatUrl(path: string): string {\n    if (path.indexOf(\"//\") >= 0) {\n        return path;\n    } // this is an absolute path.\n\n    const urlFormat = getMeta(\"UrlFormat\", \"/{Path}\");\n\n    if (path.substr(0, 1) === \"/\") {\n        path = path.substr(1);\n    }\n\n    if (urlFormat.indexOf(\"?\") >= 0) {\n        path = path.replace(\"?\", \"&\");\n    }\n\n    return urlFormat.replace(\"{Path}\", path);\n}\n\n/**\n * @type {Object} The currently registered Components.\n * @private\n */\nconst _components = {};\n\n/**\n * Register a component in the Components registry.\n *\n * @param name The name of the component.\n * @param component The component to register.\n */\nexport function addComponent(name: string, component: ComponentClass) {\n    _components[name.toLowerCase()] = component;\n}\n\n/**\n * Test to see if a component has been registered.\n *\n * @param name The name of the component to test.\n * @returns Returns **true** if the component has been registered or **false** otherwise.\n */\nexport function componentExists(name: string): boolean {\n    return _components[name.toLowerCase()] !== undefined;\n}\n\n/**\n * Get a component from the component registry.\n *\n * @param name The name of the component.\n * @returns Returns the component or **undefined** if there is no registered component.\n */\nexport function getComponent(name: string): ComponentClass | undefined {\n    return _components[name.toLowerCase()];\n}\n\n/**\n * Mount all declared Components on the dom.\n *\n * The page signifies that an element contains a component with the `data-react=\"<Component>\"` attribute.\n *\n * @param parent - The parent element to search. This element is not included in the search.\n */\nexport function _mountComponents(parent: Element) {\n    if (!componentExists(\"Router\")) {\n        addComponent(\"Router\", Router);\n    }\n\n    const nodes = parent.querySelectorAll(\"[data-react]\").forEach(node => {\n        const name = node.getAttribute(\"data-react\") || \"\";\n        const Component = getComponent(name);\n\n        if (Component) {\n            ReactDOM.render(<Component />, node);\n        } else {\n            logError(\"Could not find component %s.\", name);\n        }\n    });\n}\n\n/**\n * @type {Array} The currently registered routes.\n * @private\n */\nconst _routes: any[] = [];\n\n/**\n * Register one or more routes to the app component.\n *\n * @param routes An array of routes to add.\n */\nexport function addRoutes(routes: Array<React.ReactElement<RouteProps>>) {\n    if (!Array.isArray(routes)) {\n        _routes.push(routes);\n    } else {\n        _routes.push(...routes);\n    }\n}\n\n/**\n * Get all of the currently registered routes.\n *\n * @returns Returns an array of routes.\n */\nexport function getRoutes(): Array<React.ReactElement<RouteProps>> {\n    return _routes;\n}\n\n/**\n * @type {Array}\n * @private\n */\nconst _readyHandlers: PromiseOrNormalCallback[] = [];\n\n/**\n * Register a callback that executes when the document and the core libraries are ready to use.\n *\n * @param callback - The function to call. This can return a Promise but doesn't have to.\n */\nexport function onReady(callback: PromiseOrNormalCallback) {\n    _readyHandlers.push(callback);\n}\n\n/**\n * Execute all of the registered events in order.\n *\n * @returns A Promise when the events have all fired.\n */\nexport function _executeReady(): Promise<any[]> {\n    return new Promise(resolve => {\n        const handlerPromises = _readyHandlers.map(handler => handler());\n        const exec = () => {\n            return Promise.all(handlerPromises).then(resolve);\n        };\n\n        if (document.readyState !== \"loading\") {\n            return exec();\n        } else {\n            document.addEventListener(\"DOMContentLoaded\", exec);\n        }\n    });\n}\n\n/**\n * Execute a callback when a piece of DOM content is ready to be operated on.\n *\n * This is similar to onReady() but also includes content that is added dynamically (ex. AJAX).\n * Note that this function is meant to bridge the non-react parts of the application with react.\n *\n * @param {function} callback - The callback to execute.\n */\nexport function onContent(callback) {\n    document.addEventListener(\"X-DOMContentReady\", callback);\n}\n","/**\n * At-who setup for legacy @mentions.\n *\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport { formatUrl, getMeta } from \"@dashboard/application\";\nimport { log, matchAtMention as _matchAtMention } from \"@dashboard/utility\";\n\n// Store cache results in an outer scoped variable., so all instances share the same data\n// and can build the cache together.\nconst atCache = {};\nconst atEmpty = {};\n\n// The current raw match. This is needed to properly match quoted strings.\nlet rawMatch: string | undefined;\n\n// Set minimum characters to type for @mentions to fire\nconst minCharacters = getMeta(\"mentionMinChars\", 2);\n\n// Max suggestions to show in dropdown.\nconst maxSuggestions = getMeta(\"mentionSuggestionCount\", 5);\n\n// Server response limit. This should match the limit set in\n// *UserController->TagSearch* and UserModel->TagSearch\nconst serverLimit = 30;\n\n// Emoji, set in definition list in foot, by Emoji class. Make sure\n// that class is getting instantiated, otherwise emoji will be empty.\n\ninterface IEmojiData {\n    assetPath?: string;\n    emoji?: {\n        [key: string]: string;\n    };\n    format?: string;\n}\n\nconst emojiData: IEmojiData = getMeta(\"emoji\", {});\nconst emojis = emojiData.emoji || {};\nconst emojiFormat = emojiData.format || \"\";\nconst emojiAssetPath = emojiData.assetPath || \"\";\n\nconst emojiList = Object.entries(emojis).map(([index, emojiImageUrl]) => {\n    const parts = emojiImageUrl.split(\".\");\n\n    return { name: index, filename: emojiImageUrl, basename: parts[0], ext: \".\" + parts[1] };\n});\n\nconst emojiContentTemplate = emojiFormat\n    .replace(/{(.+?)}/g, \"$${$1}\")\n    .replace(\"%1$s\", \"${src}\")\n    .replace(\"%2$s\", \"${name}\")\n    .replace(\"${src}\", emojiAssetPath + \"/${filename}\")\n    .replace(\"${dir}\", emojiAssetPath);\nconst emojiTemplate =\n    '<li data-value=\":${name}:\" class=\"at-suggest-emoji\"><span class=\"emoji-wrap\">' +\n    emojiContentTemplate +\n    '</span> <span class=\"emoji-name\">${name}</span></li>';\n\n/**\n * Match an @mention\n *\n * @param flag - The character sequence used to trigger this match (e.g. :).\n * @param subtext - The string to be tested.\n * @param shouldStartWithSpace - Should the pattern include a test for a whitespace prefix?\n * @returns Matching string if successful. Null on failure to match.\n */\nexport function matchAtMention(flag: string, subtext: string, shouldStartWithSpace: boolean): string | null {\n    const match = _matchAtMention(subtext, shouldStartWithSpace);\n    if (match) {\n        rawMatch = match.rawMatch;\n        return match.match;\n    }\n\n    return null;\n}\n\n/**\n * Custom matching for our emoji images. Eg. :) :/ >:(\n *\n * @param flag - The character sequence used to trigger this match (e.g. :).\n * @param subtext - The string to be tested.\n * @param shouldStartWithSpace - Should the pattern include a test for a whitespace prefix?\n * @returns Matching string if successful.  Null on failure to match.\n */\nexport function matchFakeEmoji(flag, subtext, shouldStartWithSpace) {\n    flag = flag.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n    if (shouldStartWithSpace) {\n        flag = \"(?:^|\\\\s)\" + flag;\n    }\n\n    // Some browsers append a linefeed to the end of subtext.  We need to allow for it.\n    const regexp = new RegExp(flag + \"([A-Za-z0-9_+-]*|[^\\\\x00-\\\\xff]*)(?:\\\\n)?$\", \"gi\");\n    const match = regexp.exec(subtext);\n\n    if (match) {\n        return match[2] || match[1];\n    } else {\n        return null;\n    }\n}\n\nexport function initializeAtComplete(editorElement, iframe?: HTMLIFrameElement) {\n    // Handle iframe situation\n    const iframeWindow = iframe ? iframe.contentWindow : \"\";\n\n    const remoteDataHandler = (query, callback) => {\n        // Do this because of undefined when adding spaces to\n        // matcher callback, as it will be monitoring changes.\n        query = query || \"\";\n\n        // Only all query strings greater than min_characters\n        if (query.length >= minCharacters) {\n            // If the cache array contains less than LIMIT 30\n            // (according to server logic), then there's no\n            // point sending another request to server, as there\n            // won't be any more results, as this is the maximum.\n            let shouldContinueFiltering = true;\n\n            // Remove last character so that the string can be\n            // found in the cache, if exists, then check if its\n            // matching array has less than the server limit of\n            // matches, which means there are no more, so save the\n            // additional server request from being sent.\n            let filterString = \"\";\n\n            // Loop through string and find first closest match in\n            // the cache, and if a match, check if more filtering\n            // is required.\n            for (let i = 0, l = query.length; i < l; i++) {\n                filterString = query.slice(0, -i);\n\n                if (atCache[filterString] && atCache[filterString].length < serverLimit) {\n                    // Add this other query to empty array, so that it\n                    // will not fire off another request.\n                    atEmpty[query] = query;\n\n                    // Do not filter more, meaning, do not send\n                    // another server request, as all the necessary\n                    // data is already in memory.\n                    shouldContinueFiltering = false;\n                    break;\n                }\n            }\n\n            // Check if query would be empty, based on previously\n            // cached empty results. Compare against the start of\n            // the latest query string.\n            let isQueryEmpty = false;\n\n            // Loop through cache of empty query strings.\n            for (const key in atEmpty) {\n                if (atEmpty.hasOwnProperty(key)) {\n                    // See if cached empty results match the start\n                    // of the latest query. If so, then no point\n                    // sending new request, as it will return empty.\n                    if (query.match(new RegExp(\"^\" + key + \"+\")) !== null) {\n                        isQueryEmpty = true;\n                        break;\n                    }\n                }\n            }\n\n            const filterSuccessHandler = data => {\n                if (Array.isArray(data)) {\n                    data.forEach(result => {\n                        if (typeof result === \"object\" && typeof result.name === \"string\") {\n                            // Convert special characters to safely insert into template.\n                            result.name = result.name\n                                .replace(/&/g, \"&amp;\")\n                                .replace(/</g, \"&lt;\")\n                                .replace(/>/g, \"&gt;\")\n                                .replace(/\"/g, \"&quot;\")\n                                .replace(/'/g, \"&apos;\");\n                        }\n                    });\n                }\n\n                callback(data);\n\n                // If data is empty, cache the results to prevent\n                // other requests against similarly-started\n                // query strings.\n                if (data.length) {\n                    atCache[query] = data;\n                } else {\n                    atEmpty[query] = query;\n                }\n            };\n\n            // Produce the suggestions based on data either\n            // cached or retrieved.\n            if (shouldContinueFiltering && !isQueryEmpty && !atCache[query]) {\n                $.getJSON(\n                    formatUrl(\"/user/tagsearch\"),\n                    {\n                        q: query,\n                        limit: serverLimit,\n                    },\n                    filterSuccessHandler,\n                );\n            } else {\n                // If no point filtering more as the parent filter\n                // has not been maxed out with responses, use the\n                // closest parent filter instead of the latest\n                // query string.\n                if (!shouldContinueFiltering) {\n                    callback(atCache[filterString]);\n                } else {\n                    callback(atCache[query]);\n                }\n            }\n        }\n    };\n\n    /**\n     * Pre-insert handler for atwho.\n     *\n     * Note, in contenteditable mode (iframe for us), the value is surrounded by span tags.\n     */\n    function beforeInsertHandler(value: string, $li: JQuery<any>): string {\n        // It's better to use the value provided, as it may have\n        // html tags around it, depending on mode. Using the\n        // regular expression avoids the need to check what mode\n        // the suggestion is made in, and then constructing\n        // it based on that. Optional assignment for undefined\n        // matcher callback results.\n        let username = $li.data(\"value\") || \"\";\n        // Pop off the flag--usually @ or :\n        username = username.slice(1, username.length);\n\n        // Check if there are any whitespaces, and if so, add\n        // quotation marks around the whole name.\n        const requiresQuotation = /[^\\w-]/.test(username);\n\n        // Check if there are already quotation marks around\n        // the string--double or single.\n        const hasQuotation = /([\"'])(.+)([\"'])/g.test(username);\n\n        let insert = username;\n        if (requiresQuotation && !hasQuotation) {\n            // Do not even need to have value wrapped in\n            // any tags at all. It will be done automatically.\n            // insert = value.replace(/(.*\\>?)@([\\w\\d\\s\\-\\+\\_]+)(\\<?.*)/, '$1@\"$2\"$3');\n            insert = '\"' + username + '\"';\n        }\n\n        // This is needed for checking quotation mark directly\n        // after at character, and preventing another at character\n        // from being inserted into the page.\n        const rawAtMatch = rawMatch || \"\";\n\n        const atQuote = /.?@([\"'])/.test(rawAtMatch);\n\n        // If atQuote is false, then insert the at character,\n        // otherwise it means the user typed a quotation mark\n        // directly after the at character, which, would get\n        // inserted again if not checked. atQuote would\n        // be false most of the time; the exception is when\n        // it's true.\n        if (!atQuote) {\n            insert = this.at + insert;\n        }\n\n        // The last character prevents the matcher from trigger on nearly everything.\n        return insert;\n    }\n\n    /**\n     * Custom highlighting to accept spaces in names.\n     * This is almost a copy of the default in the library, with tweaks in the regex.\n     */\n    function highlightHandler(li: string, query: string): string {\n        if (!query) {\n            return li;\n        }\n        const regexp = new RegExp(\">\\\\s*(\\\\w*)(\" + query.replace(\"+\", \"\\\\+\") + \")(\\\\w*)\\\\s*(\\\\s+.+)?<\", \"ig\");\n        // Capture group 4 for possible spaces\n        return li.replace(regexp, (str, $1, $2, $3, $4) => {\n            // Weird Chrome behaviour, so check for undefined, then\n            // set to empty string if so.\n            if (typeof $3 === \"undefined\") {\n                $3 = \"\";\n            }\n            if (typeof $4 === \"undefined\") {\n                $4 = \"\";\n            }\n\n            return \"> \" + $1 + \"<strong>\" + $2 + \"</strong>\" + $3 + $4 + \" <\";\n        });\n    }\n\n    $(editorElement)\n        .atwho({\n            at: \"@\",\n            tpl: '<li data-value=\"@${name}\" data-id=\"${id}\">${name}</li>',\n            limit: maxSuggestions,\n            callbacks: {\n                remote_filter: remoteDataHandler,\n                before_insert: beforeInsertHandler,\n                highlighter: highlightHandler,\n                matcher: matchAtMention,\n            },\n            cWindow: iframeWindow,\n        })\n        .atwho({\n            at: \":\",\n            tpl: emojiTemplate,\n            insert_tpl: \"${atwho-data-value}\",\n            callbacks: {\n                matcher: matchFakeEmoji,\n                tplEval: (tpl, map) => log(map),\n            },\n            limit: maxSuggestions,\n            data: emojiList,\n            cWindow: iframeWindow,\n        });\n\n    /**\n     * This hook is triggered when atWho places a selection list in the window.\n     * The context is passed implicitly when triggered by at.js.\n     *\n     * @param event - A custom event triggered by the advanced editor iframe/wysiwyg.\n     * @param offset - The pixel offsets inside of the iframe.\n     * @param context - Context from the contenteditable inside of the iframe.\n     */\n    function iframeAtWhoRepositionHandler(event: any, offset: any, context: any) {\n        // Actual suggestion box that will appear.\n        const suggestionElement = context.view.$el;\n\n        // The area where text will be typed (contenteditable body).\n        const $inputor = context.$inputor;\n\n        // Display it below the text.\n        const lineHeight = parseInt($inputor.css(\"line-height\"), 10);\n\n        // offset contains the top left values of the offset to the iframe\n        // we need to convert that to main window coordinates\n        const iframeOffset = $(iframe).offset();\n        let leftCoordinate = (iframeOffset ? iframeOffset.left : 0) + offset.left;\n        let topCoordinate = iframeOffset ? iframeOffset.top : 0;\n        let selectHeight = 0;\n\n        // In wysiwyg mode, the suggestbox follows the typing, which\n        // does not happen in regular mode, so adjust it.\n        // Either @ or : for now.\n        const at = context.at;\n        const { text } = context.query;\n        const fontMirror = $(\".BodyBox,.js-bodybox\");\n        const font = fontMirror.css(\"font-size\") + \" \" + fontMirror.css(\"font-family\");\n\n        // Get font width\n        const fontWidth = (at + text).width(font) - 2;\n\n        if (at === \"@\") {\n            leftCoordinate -= fontWidth;\n        }\n\n        if (at === \":\") {\n            leftCoordinate -= 2;\n        }\n\n        // atWho adds 3 select areas, presumably for differnet positing on screen (above below etc)\n        // This finds the active one and gets the container height\n        $(suggestionElement).each((index, element) => {\n            const outerHeight = $(element).outerHeight();\n            const height = $(element).height();\n\n            if (outerHeight && height && outerHeight > 0) {\n                selectHeight += height + lineHeight;\n            }\n        });\n\n        // Now should we show the selection box above or below?\n        const windowHeight = $(window).height() || 0;\n        const scrollPosition = $(window).scrollTop() || 0;\n        const selectionPosition = topCoordinate + offset.top - ($(window).scrollTop() || 0);\n        const iAvailableSpace = windowHeight - (selectionPosition - scrollPosition);\n\n        if (iAvailableSpace >= selectHeight) {\n            // Enough space below\n            topCoordinate = topCoordinate + offset.top + selectHeight - scrollPosition;\n        } else {\n            // Place it above instead\n            // @todo should check if this is more space than below\n            topCoordinate = topCoordinate + offset.top - scrollPosition;\n        }\n\n        // Move the select box\n        const newOffset = {\n            left: leftCoordinate,\n            top: topCoordinate,\n        };\n        $(suggestionElement).offset(newOffset);\n    }\n\n    // Only necessary for iframe.\n    // Based on work here: https://github.com/ichord/At.js/issues/124\n    if (iframeWindow) {\n        $(iframeWindow).on(\"reposition.atwho\", iframeAtWhoRepositionHandler);\n    }\n}\n","/**\n * Entrypoint for the APIv2 calls. Prepulates an axios instance with some config settings.\n *\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport { formatUrl } from \"@dashboard/application\";\nimport axios from \"axios\";\nimport qs from \"qs\";\n\nconst api = axios.create({\n    baseURL: formatUrl(\"/api/v2/\"),\n    headers: {\n        common: {\n            \"X-Requested-With\": \"vanilla\",\n        },\n    },\n    paramsSerializer: params => qs.stringify(params, { indices: false }),\n});\n\nexport default api;\n","/**\n * Entrypoint for gradually replacing global.js\n *\n * At some point everything in this folder should be able to be removed (new base theme).\n *\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport { onContent, onReady } from \"@dashboard/application\";\nimport { initializeAtComplete } from \"./atwho\";\n\n// Initialize legacy @mentions for all BodyBox elements.\nif ($.fn.atwho) {\n    onReady(() => initializeAtComplete(\".BodyBox,.js-bodybox\"));\n    onContent(() => initializeAtComplete(\".BodyBox,.js-bodybox\"));\n\n    // Also assign this function to the global `gdn` object.\n    // The advanced editor calls this function directly when in wysiwyg format, as it needs to\n    // handle an iframe, and the editor instance needs to be referenced. The advanced editor does not yet use\n    // this build process so it can only communicate through here with a global.\n    window.gdn.atCompleteInit = initializeAtComplete;\n}\n","/**\n * Primary bootstrapping of the frontend JS. This entrypoint should be the last once executed.\n *\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport { onContent, getMeta, _executeReady, _mountComponents } from \"@dashboard/application\";\nimport { log, logError, debug } from \"@dashboard/utility\";\nimport gdn from \"@dashboard/gdn\";\nimport apiv2 from \"@dashboard/apiv2\";\n\n// Right now this is imported here instead of being its own bundle.\n// Once we have some part of vanilla that can function without the legacy js,\n// this should be pulled out into its own javascript bundle.\nimport \"../legacy\";\nimport Router from \"../components/Router\";\n\n// Inject the debug flag into the utility.\ndebug(getMeta(\"debug\", false));\n\n// Export the API to the global object.\ngdn.apiv2 = apiv2;\n\n// Mount all data-react components.\nonContent(e => {\n    _mountComponents(e.target);\n});\n\nlog(\"Bootstrapping\");\n_executeReady()\n    .then(() => {\n        log(\"Bootstrapping complete.\");\n\n        const contentEvent = new CustomEvent(\"X-DOMContentReady\", { bubbles: true, cancelable: false });\n        document.dispatchEvent(contentEvent);\n    })\n    .catch(error => {\n        logError(error);\n    });\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    parameterLimit: 1000,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n\n    for (var i = 0; i < parts.length; ++i) {\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder);\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder);\n            val = options.decoder(part.slice(pos + 1), defaults.decoder);\n        }\n        if (has.call(obj, key)) {\n            obj[key] = [].concat(obj[key]).concat(val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options) {\n    var leaf = val;\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]') {\n            obj = [];\n            obj = obj.concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nmodule.exports = function (str, opts) {\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.decoder !== null && options.decoder !== undefined && typeof options.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    options.ignoreQueryPrefix = options.ignoreQueryPrefix === true;\n    options.delimiter = typeof options.delimiter === 'string' || utils.isRegExp(options.delimiter) ? options.delimiter : defaults.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : defaults.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : defaults.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.decoder = typeof options.decoder === 'function' ? options.decoder : defaults.decoder;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : defaults.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : defaults.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : defaults.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : defaults.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) { // eslint-disable-line func-name-matching\n        return prefix + '[]';\n    },\n    indices: function indices(prefix, key) { // eslint-disable-line func-name-matching\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) { // eslint-disable-line func-name-matching\n        return prefix;\n    }\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaults = {\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    serializeDate: function serializeDate(date) { // eslint-disable-line func-name-matching\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar stringify = function stringify( // eslint-disable-line func-name-matching\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(stringify(\n                obj[key],\n                generateArrayPrefix(prefix, key),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        } else {\n            values = values.concat(stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n    var encoder = typeof options.encoder === 'function' ? options.encoder : defaults.encoder;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n    var serializeDate = typeof options.serializeDate === 'function' ? options.serializeDate : defaults.serializeDate;\n    var encodeValuesOnly = typeof options.encodeValuesOnly === 'boolean' ? options.encodeValuesOnly : defaults.encodeValuesOnly;\n    if (typeof options.format === 'undefined') {\n        options.format = formats['default'];\n    } else if (!Object.prototype.hasOwnProperty.call(formats.formatters, options.format)) {\n        throw new TypeError('Unknown format option provided.');\n    }\n    var formatter = formats.formatters[options.format];\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        keys = keys.concat(stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encode ? encoder : null,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter,\n            encodeValuesOnly\n        ));\n    }\n\n    var joined = keys.join(delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isIP;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ipv4Maybe = /^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$/;\nvar ipv6Block = /^[0-9A-F]{1,4}$/i;\n\nfunction isIP(str) {\n  var version = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n  (0, _assertString2.default)(str);\n  version = String(version);\n  if (!version) {\n    return isIP(str, 4) || isIP(str, 6);\n  } else if (version === '4') {\n    if (!ipv4Maybe.test(str)) {\n      return false;\n    }\n    var parts = str.split('.').sort(function (a, b) {\n      return a - b;\n    });\n    return parts[3] <= 255;\n  } else if (version === '6') {\n    var blocks = str.split(':');\n    var foundOmissionBlock = false; // marker to indicate ::\n\n    // At least some OS accept the last 32 bits of an IPv6 address\n    // (i.e. 2 of the blocks) in IPv4 notation, and RFC 3493 says\n    // that '::ffff:a.b.c.d' is valid for IPv4-mapped IPv6 addresses,\n    // and '::a.b.c.d' is deprecated, but also valid.\n    var foundIPv4TransitionBlock = isIP(blocks[blocks.length - 1], 4);\n    var expectedNumberOfBlocks = foundIPv4TransitionBlock ? 7 : 8;\n\n    if (blocks.length > expectedNumberOfBlocks) {\n      return false;\n    }\n    // initial or final ::\n    if (str === '::') {\n      return true;\n    } else if (str.substr(0, 2) === '::') {\n      blocks.shift();\n      blocks.shift();\n      foundOmissionBlock = true;\n    } else if (str.substr(str.length - 2) === '::') {\n      blocks.pop();\n      blocks.pop();\n      foundOmissionBlock = true;\n    }\n\n    for (var i = 0; i < blocks.length; ++i) {\n      // test for a :: which can not be at the string start/end\n      // since those cases have been handled above\n      if (blocks[i] === '' && i > 0 && i < blocks.length - 1) {\n        if (foundOmissionBlock) {\n          return false; // multiple :: in address\n        }\n        foundOmissionBlock = true;\n      } else if (foundIPv4TransitionBlock && i === blocks.length - 1) {\n        // it has been checked before that the last\n        // block is a valid IPv4 address\n      } else if (!ipv6Block.test(blocks[i])) {\n        return false;\n      }\n    }\n    if (foundOmissionBlock) {\n      return blocks.length >= 1;\n    }\n    return blocks.length === expectedNumberOfBlocks;\n  }\n  return false;\n}\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isFQDN;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nvar _merge = require('./util/merge');\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar default_fqdn_options = {\n  require_tld: true,\n  allow_underscores: false,\n  allow_trailing_dot: false\n};\n\nfunction isFQDN(str, options) {\n  (0, _assertString2.default)(str);\n  options = (0, _merge2.default)(options, default_fqdn_options);\n\n  /* Remove the optional trailing dot before checking validity */\n  if (options.allow_trailing_dot && str[str.length - 1] === '.') {\n    str = str.substring(0, str.length - 1);\n  }\n  var parts = str.split('.');\n  if (options.require_tld) {\n    var tld = parts.pop();\n    if (!parts.length || !/^([a-z\\u00a1-\\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(tld)) {\n      return false;\n    }\n    // disallow spaces\n    if (/[\\s\\u2002-\\u200B\\u202F\\u205F\\u3000\\uFEFF\\uDB40\\uDC20]/.test(tld)) {\n      return false;\n    }\n  }\n  for (var part, i = 0; i < parts.length; i++) {\n    part = parts[i];\n    if (options.allow_underscores) {\n      part = part.replace(/_/g, '');\n    }\n    if (!/^[a-z\\u00a1-\\uffff0-9-]+$/i.test(part)) {\n      return false;\n    }\n    // disallow full-width chars\n    if (/[\\uff01-\\uff5e]/.test(part)) {\n      return false;\n    }\n    if (part[0] === '-' || part[part.length - 1] === '-') {\n      return false;\n    }\n  }\n  return true;\n}\nmodule.exports = exports['default'];"],"sourceRoot":""}