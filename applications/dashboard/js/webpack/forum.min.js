var vanillaforum=(window.webpackJsonpvanillaforum=window.webpackJsonpvanillaforum||[]).push([[3],{111:function(t,e,r){r(36),t.exports=r(173)},151:function(t,e,r){},173:function(t,e,r){"use strict";r.r(e);var n=r(1),o=r(0),a=r.n(o),i=r(439),s=r(25),c=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.componentDidMount=function(){document.title=this.getHeadTitle(this.props)},e.prototype.componentWillUpdate=function(t){document.title=this.getHeadTitle(t)},e.prototype.render=function(){return this.props.children?this.props.children:a.a.createElement("h1",null,this.props.title)},e.prototype.getHeadTitle=function(t){var e=Object(n.g)("ui.siteName",""),r=[];return t.title&&t.title.length>0&&r.push(t.title),e.length>0&&e!==t.title&&r.push(e),r.join(" - ")},e}(a.a.Component),l=r(9),p=r(438),d=r(442),f=r(14),h=r.n(f),m=r(13),b=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),y=function(t){function e(e){var r=t.call(this,e)||this;return r.state={id:Object(m.b)(e,"errorMessages")},r}return b(e,t),e.prototype.render=function(){var t=this.props.errors;if(t&&t.length>0){var e=h()("inputBlock-errors",this.props.className),r=t.map(function(t,e){return a.a.createElement("span",{key:e,className:"inputBlock-error"},t.message)});return a.a.createElement("span",{id:this.state.id,className:e},r)}return null},e}(a.a.Component),g=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),v=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},w=function(t){function e(e){var r=t.call(this,e)||this;return r.id=Object(m.a)(e,"Paragraph"),r}return g(e,t),e.prototype.render=function(){if(this.props.content){var t=h()({isError:this.props.isError},this.props.className),e={};return this.props.isError&&(e={"aria-live":"assertive",role:"alert"}),a.a.createElement("p",v({id:this.id,className:t},e),this.props.content)}return null},e.defaultProps={id:!1},e}(a.a.Component),O=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_=function(t){function e(e){var r=t.call(this,e)||this;return r.inputRef=a.a.createRef(),r.onChange=function(t){r.props.onChange&&r.props.onChange(t)},r.state={id:Object(m.b)(e,"inputText")},r}return O(e,t),e.prototype.render=function(){var t,e=h()("inputBlock",this.props.className),r=h()("inputBlock-inputText","InputBox","inputText",this.props.inputClassNames),n=!!this.props.errors&&this.props.errors.length>0;return n&&(t=this.errorID),a.a.createElement("label",{className:e},a.a.createElement("span",{id:this.labelID,className:"inputBlock-labelAndDescription"},a.a.createElement("span",{className:"inputBlock-labelText"},this.props.label),a.a.createElement(w,{id:!1,className:"inputBlock-labelNote",content:this.props.labelNote})),a.a.createElement("span",{className:"inputBlock-inputWrap"},a.a.createElement("input",{id:this.state.id,className:r,defaultValue:this.props.defaultValue,value:this.props.value,type:this.props.type,disabled:this.props.disabled,required:this.props.required,placeholder:this.props.placeholder,"aria-invalid":n,"aria-describedby":t,"aria-labelledby":this.labelID,onChange:this.onChange,ref:this.inputRef})),a.a.createElement(y,{id:this.errorID,errors:this.props.errors}))},e.prototype.componentDidMount=function(){this.inputRef.current.addEventListener("change",this.onChange)},e.prototype.componentWillUnount=function(){this.inputRef.current.removeEventListener("change",this.onChange)},Object.defineProperty(e.prototype,"value",{get:function(){return this.inputRef.current?this.inputRef.current.value:""},set:function(t){if(!this.inputRef.current)throw new Error("inputDom does not exist");this.inputRef.current.value=t},enumerable:!0,configurable:!0}),e.prototype.focus=function(){this.inputRef.current.focus()},e.prototype.select=function(){this.inputRef.current.select()},Object.defineProperty(e.prototype,"labelID",{get:function(){return this.state.id+"-label"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errorID",{get:function(){return this.state.id+"-errors"},enumerable:!0,configurable:!0}),e.defaultProps={disabled:!1,type:"text",errors:[]},e}(a.a.Component),j=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),E=function(t){function e(e){var r=t.call(this,e)||this;return r.state={id:Object(m.a)(e,"checkbox")},r}return j(e,t),Object.defineProperty(e.prototype,"labelID",{get:function(){return this.state.id+"-label"},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=h()("checkbox",this.props.className);return a.a.createElement("label",{id:this.state.id,className:t},a.a.createElement("input",{className:"checkbox-input","aria-labelledby":this.labelID,type:"checkbox",onChange:this.props.onChange,checked:this.props.checked}),a.a.createElement("span",{className:"checkbox-box","aria-hidden":"true"},a.a.createElement("span",{className:"checkbox-state"},a.a.createElement("svg",{className:"checkbox-icon checkbox-checkIcon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 10 10"},a.a.createElement("title",null,Object(n.m)("âœ“")),a.a.createElement("path",{fill:"currentColor",d:"M10,2.7c0-0.2-0.1-0.3-0.2-0.4L8.9,1.3c-0.2-0.2-0.6-0.2-0.9,0L3.8,5.6L1.9,3.7c-0.2-0.2-0.6-0.2-0.9,0L0.2,4.6c-0.2,0.2-0.2,0.6,0,0.9l3.2,3.2c0.2,0.2,0.6,0.2,0.9,0l5.5-5.5C9.9,3,10,2.8,10,2.7z"})))),a.a.createElement("span",{id:this.labelID,className:"checkbox-label"},this.props.label))},e.defaultProps={disabled:!1,id:!1},e}(a.a.Component),S=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),C=function(t){function e(e){var r=t.call(this,e)||this;return r.state={id:Object(m.a)(e,e.prefix)},r}return S(e,t),e.prototype.render=function(){var t=h()("button","Button",this.props.className);return a.a.createElement("button",{id:this.state.id,disabled:this.props.disabled,type:this.props.type,className:t},this.props.content)},e.defaultProps={id:!1,disabled:!1,type:"button",prefix:"button"},e}(a.a.Component),P=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),N=function(t){function e(e){return t.call(this,e)||this}return P(e,t),e.prototype.render=function(){var t=h()("Primary","buttonCTA","BigButton","button-fullWidth",this.props.className);return a.a.createElement(C,{id:this.props.id,disabled:this.props.disabled,type:"submit",content:this.props.content,className:t,prefix:"submitButton"},this.props.content)},e.defaultProps={disabled:!1},e}(a.a.Component),x=r(12),k="POST_AUTHENTICATE_PASSWORD_REQUEST",T="POST_AUTHENTICATE_PASSWORD_ERROR",A="POST_AUTHENTICATE_PASSWORD_SUCCESS",I=Object(x.c)(k,A,T,{},{}),R=function(t){return function(e){e(I.request(t)),l.a.post("/authenticate/password",t).then(function(r){e(I.success(r,t));var o=new URLSearchParams;window.location.href=Object(n.f)(o.get("target")||"/")}).catch(function(t){var r=t.response?t.response.data:t;e(I.error(r))})}},L=r(2),D=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),U=function(t){function e(e){var r=t.call(this,e)||this;return r.usernameInput=a.a.createRef(),r.passwordInput=a.a.createRef(),r.handleCheckBoxChange=function(t){r.setState({rememberMe:t.target.checked||!1})},r.handleUsernameChange=function(t){var e=t.target.value;r.setState({username:e})},r.handlePasswordChange=function(t){var e=t.target.value;r.setState({password:e})},r.handleSubmit=function(t){t.preventDefault();var e=r.state,n=e.username,o=e.password,a=e.rememberMe;r.props.authenticate({username:n,password:o,persist:a})},r.state={id:Object(m.b)(e,"passwordForm"),rememberMe:!0,username:"",password:""},r}return D(e,t),e.prototype.render=function(){var t,e=Object(l.c)(this.props.passwordState,["username","password"]);return e&&(t=this.formDescriptionID),a.a.createElement("form",{id:this.state.id,"aria-describedby":t,className:"passwordForm",method:"post",onSubmit:this.handleSubmit,noValidate:!0},a.a.createElement(w,{id:this.formDescriptionID,className:"authenticateUser-paragraph",content:e,isError:!0}),a.a.createElement(_,{label:Object(n.m)("Email/Username"),required:!0,disabled:!this.allowEdit,errors:Object(l.b)(this.props.passwordState,"username"),defaultValue:this.props.defaultUsername||"",ref:this.usernameInput,onChange:this.handleUsernameChange,value:this.state.username}),a.a.createElement(_,{label:Object(n.m)("Password"),required:!0,disabled:!this.allowEdit,errors:Object(l.b)(this.props.passwordState,"password"),type:"password",ref:this.passwordInput,onChange:this.handlePasswordChange,value:this.state.password}),a.a.createElement("div",{className:"inputBlock inputBlock-tighter"},a.a.createElement("div",{className:"rememberMeAndForgot"},a.a.createElement("span",{className:"rememberMeAndForgot-rememberMe"},a.a.createElement(E,{label:Object(n.m)("Keep me signed in"),onChange:this.handleCheckBoxChange,checked:this.state.rememberMe})),a.a.createElement("span",{className:"rememberMeAndForgot-forgot"},a.a.createElement(p.a,{to:"/authenticate/recoverpassword"},Object(n.m)("Forgot your password?"))))),a.a.createElement(N,{disabled:!this.allowSubmit,content:Object(n.m)("Sign In")}))},e.prototype.componentDidUpdate=function(t){this.props.passwordState!==t.passwordState&&(Object(l.b)(this.props.passwordState,"username")?this.usernameInput.current.select():Object(l.b)(this.props.passwordState,"password")?this.passwordInput.current.select():this.usernameInput.current.select())},Object.defineProperty(e.prototype,"allowEdit",{get:function(){return this.props.passwordState.status!==L.LoadStatus.LOADING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowSubmit",{get:function(){var t=this.state,e=t.username,r=t.password;return e.length>0&&r.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDescriptionID",{get:function(){return this.state.id+"-description"},enumerable:!0,configurable:!0}),e}(a.a.Component);var q=Object(s.b)(function(t){return{passwordState:t.authenticate.password}},function(t){return{authenticate:function(e){t(R(e))}}})(Object(d.a)(U)),M=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),B=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return M(e,t),e.prototype.render=function(){if(!this.props.ssoMethods||0===this.props.ssoMethods.length)return null;var t=this.props.ssoMethods.map(function(t,e){var r={backgroundColor:t.ui.backgroundColor||void 0,color:t.ui.foregroundColor||void 0};return a.a.createElement("a",{href:t.ui.url,key:e,className:"BigButton button Button button-sso button-fullWidth",style:r},a.a.createElement("span",{className:"button-ssoContents"},a.a.createElement("img",{src:t.ui.photoUrl||void 0,className:"ssoMethod-icon","aria-hidden":!0}),a.a.createElement("span",{className:"button-ssoLabel"},Object(n.m)(t.ui.buttonName)),a.a.createElement("span",{className:"ssoMethod-icon ssoMethod-iconSpacer","aria-hidden":"true"})))});return a.a.createElement("div",{className:"ssoMethods"},a.a.createElement(w,{content:Object(n.m)("Sign in with one of the following:")}),t)},e}(a.a.Component),H=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return H(e,t),e.prototype.render=function(){return this.props.visible?a.a.createElement("div",{className:"inputBlock-labelText authenticateUser-divider"},Object(n.m)("or")):null},e.defaultProps={visible:!0},e}(a.a.PureComponent),V="GET_USER_AUTHENTICATORS_REQUEST",G="GET_USER_AUTHENTICATORS_SUCCESS",W="GET_USER_AUTHENTICATORS_ERROR",F=Object(x.c)(V,G,W,{}),z=function(){return Object(x.a)("get","authenticate/authenticators",F,void 0)},J=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Z=function(t){function e(e){var r=t.call(this,e)||this;return r.state={id:Object(m.b)(e,"SignInPage")},r}return J(e,t),Object.defineProperty(e.prototype,"titleID",{get:function(){return this.state.id+"-pageTitle"},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){this.props.authenticatorState.status===L.LoadStatus.PENDING&&this.props.loadAuthenticators()},e.prototype.render=function(){var t=this.props.authenticatorState;if(t.status!==L.LoadStatus.SUCCESS)return null;var e=!1,r=t.data.filter(function(t){return"password"!==t.type||(e=!0,!1)});return o.createElement("div",{id:this.state.id,className:"authenticateUserCol"},o.createElement(u,{title:Object(n.m)("Sign In")},o.createElement("h1",{id:this.titleID,className:"isCentered"},Object(n.m)("Sign In"))),o.createElement(B,{ssoMethods:r}),o.createElement(Q,{visible:e&&r.length>0}),e&&o.createElement(q,null))},e}(o.Component);var K=Object(s.b)(function(t){return{authenticatorState:t.authenticate.authenticators}},function(t){return{loadAuthenticators:function(){t(z())}}})(Z),X=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id=Object(m.c)("PasswordPage"),e}return X(e,t),Object.defineProperty(e.prototype,"titleID",{get:function(){return this.id+"-pageTitle"},enumerable:!0,configurable:!0}),e.prototype.render=function(){return o.createElement("div",{className:"authenticateUserCol"},o.createElement(u,{title:Object(n.m)("Sign In")},o.createElement("h1",{id:this.titleID,className:"isCentered"},Object(n.m)("Sign In"))),o.createElement(q,null))},e}(o.Component),tt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tt(e,t),e.prototype.render=function(){return a.a.createElement("p",{className:"authenticateUser-paragraph isCentered"},Object(n.m)("Remember your password?")," ",a.a.createElement(p.a,{onClick:this.props.onClick,to:"/authenticate/signin"},Object(n.m)("Sign In")))},e}(a.a.Component),rt=r(23),nt=r.n(rt),ot="POST_REQUEST_PASSWORD_REQUEST",at="POST_REQUEST_PASSWORD_ERROR",it="POST_REQUEST_PASSWORD_SUCCESS",st="AFTER_REQUEST_PASSWORD_SUCCESS_NAVIGATE",ct=function(){return Object(x.b)(st)},ut=Object(x.c)(ot,it,at,{},{}),lt=function(t){return Object(x.a)("post","users/request-password",ut,t)},pt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),dt=function(t){function e(e){var r=t.call(this,e)||this;return r.id=nt()("RecoverPasswordPage"),r.emainInput=a.a.createRef(),r.handleEmailChange=function(t){var e=t.target.value;r.setState({email:e})},r.handleSubmit=function(t){t.preventDefault();var e=r.state.email;r.props.postRequestPassword({email:e})},r.id=r.pageTitleID=r.id+"-pageTitle",r.state={email:""},r}return pt(e,t),e.prototype.render=function(){var t=a.a.createElement(u,{title:Object(n.m)("Recover Password")},a.a.createElement("h1",{id:this.pageTitleID,className:"isCentered"},Object(n.m)("Recover Password")));return this.props.requestPasswordState.status===L.LoadStatus.SUCCESS?a.a.createElement("div",{id:this.id,className:"authenticateUserCol"},t,a.a.createElement(w,{content:Object(n.m)("A message has been sent to your email address with password reset instructions."),className:"authenticateUser-paragraph"}),a.a.createElement(et,{onClick:this.props.onNavigateAway})):a.a.createElement("div",{className:"authenticateUserCol"},t,a.a.createElement(w,{content:Object(n.m)("RecoverPasswordLabelCode","Enter your email to continue."),className:"authenticateUser-paragraph"}),a.a.createElement("form",{id:this.id,onSubmit:this.handleSubmit,"aria-labelledby":this.pageTitleID,noValidate:!0},a.a.createElement(w,{className:"authenticateUser-paragraph",content:Object(l.c)(this.props.requestPasswordState,["email"]),isError:!0}),a.a.createElement(_,{label:Object(n.m)("Email"),required:!0,disabled:!this.allowEdit,errors:Object(l.b)(this.props.requestPasswordState,"email"),value:this.state.email,onChange:this.handleEmailChange,ref:this.emainInput}),a.a.createElement(N,{disabled:!this.allowEdit||0===this.state.email.length,content:Object(n.m)("Request a new password")})),a.a.createElement(et,null))},e.prototype.componentDidUpdate=function(t){this.props.requestPasswordState!==t.requestPasswordState&&this.props.requestPasswordState.status===L.LoadStatus.ERROR&&this.emainInput.current.select()},Object.defineProperty(e.prototype,"allowEdit",{get:function(){return this.props.requestPasswordState.status!==L.LoadStatus.LOADING},enumerable:!0,configurable:!0}),e}(a.a.Component);
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */var ft=Object(s.b)(function(t){return{requestPasswordState:t.users.requestPassword}},function(t){return{postRequestPassword:function(e){t(lt(e))},onNavigateAway:function(){t(ct())}}})(dt),ht=r(441),mt=r(443),bt=r(60),yt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yt(e,t),e.prototype.render=function(){return a.a.createElement("div",{className:"Center SplashInfo"},a.a.createElement(u,{title:this.title}),a.a.createElement("div",null,this.message))},Object.defineProperty(e.prototype,"title",{get:function(){return this.props.title||Object(bt.sprintf)(Object(n.m)("%s Not Found"),Object(n.m)(this.props.type))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.props.message||Object(bt.sprintf)(Object(n.m)("The %s you were looking for could not be found."),Object(n.m)(this.props.type.toLowerCase()))},enumerable:!0,configurable:!0}),e.defaultProps={type:"Page"},e}(a.a.PureComponent),vt=r(68),wt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ot=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},_t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wt(e,t),e.prototype.render=function(){var t=Object(n.h)().map(function(t){return a.a.createElement(t.type,Ot({key:t.key||t.props.path+(t.props.exact?"!":"")},t.props))});return t.push(a.a.createElement(i.a,{key:"@not-found",component:gt})),a.a.createElement(s.a,{store:Object(vt.a)()},a.a.createElement(ht.a,{basename:Object(n.g)("context.basePath","")},a.a.createElement(mt.a,null,t)))},e}(a.a.PureComponent),jt=r(7),Et=r(30),St=r(15),Ct=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Pt={status:L.LoadStatus.PENDING};
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license http://www.opensource.org/licenses/gpl-2.0.php GNU GPL v2
 */
var Nt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},xt={status:L.LoadStatus.PENDING};
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */
var kt=Object(St.c)({authenticators:function(t,e){switch(void 0===t&&(t=Pt),e.type){case V:return Ct({},t,{status:L.LoadStatus.LOADING});case G:return{status:L.LoadStatus.SUCCESS,data:e.payload.data,error:void 0};case W:return Ct({},t,{status:L.LoadStatus.ERROR,error:e.payload});default:return t}},password:function(t,e){switch(void 0===t&&(t=xt),e.type){case k:return Nt({},t,{status:L.LoadStatus.LOADING});case A:return{status:L.LoadStatus.SUCCESS,data:e.payload.data,error:void 0};case T:return Nt({},t,{status:L.LoadStatus.ERROR,error:e.payload});default:return t}}}),Tt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},At={status:L.LoadStatus.PENDING};
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */
var It=Object(St.c)({requestPassword:function(t,e){switch(void 0===t&&(t=At),e.type){case ot:return Tt({},t,{status:L.LoadStatus.LOADING});case it:return{status:L.LoadStatus.SUCCESS,data:e.payload.data,error:void 0};case at:return Tt({},t,{status:L.LoadStatus.ERROR,error:e.payload});case st:return At;default:return t}}}),Rt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Rt(e,t),e.prototype.componentDidMount=function(){this.props.onRenderComplete()},e}(a.a.Component),Dt=r(4),Ut=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();var qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ut(e,t),e.prototype.render=function(){var t=this.props.data,e=t.attributes,r=t.height,n=e.id,o=e.src,i=e.style;return a.a.createElement("iframe",{id:n,src:o,height:r||300,style:i,scrolling:"no"})},e}(Lt),Mt=r(61),Bt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();var Ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Bt(e,t),e.prototype.render=function(){var t=this.props.data,e=t.attributes,r=t.width,n=t.height,o=e.postID,i={maxWidth:r?r+"px":"100%",paddingBottom:(n||1)/(r||1)*100+"%"};if(!o)throw new Error("Giphy embed fail, the post could not be found");var s="https://giphy.com/embed/"+o;return a.a.createElement("div",{className:"embedExternal-ratio",style:i},a.a.createElement("iframe",{src:s,className:"giphy-embed embedGiphy-iframe"}))},e}(Lt),$t=r(3),Qt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();var Vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qt(e,t),e.prototype.render=function(){var t=this.props.data,e=t.url,r=t.name,n=Object($t.j)(e);return a.a.createElement("a",{className:"embedImage-link",href:n||"",rel:"nofollow noopener",target:"_blank"},a.a.createElement("img",{className:"embedImage-img",src:e||"",alt:r||""}))},e}(Lt),Gt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wt=function(t,e,r,n){return new(r||(r=Promise))(function(o,a){function i(t){try{c(n.next(t))}catch(t){a(t)}}function s(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(i,s)}c((n=n.apply(t,e||[])).next())})},Ft=function(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */var zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e.prototype.render=function(){var t=this.props.data.attributes,e=t.postID,r=t.isAlbum?"a/"+e:e;return a.a.createElement("blockquote",{className:"imgur-embed-pub","data-id":r})},e.prototype.componentDidMount=function(){Jt().then(this.props.onRenderComplete)},e.prototype.componentDidUpdate=function(){Jt().then(this.props.onRenderComplete)},e}(Lt);function Jt(){return Wt(this,void 0,void 0,function(){var t,e,r;return Ft(this,function(n){switch(n.label){case 0:return(t=Array.from(document.querySelectorAll(".imgur-embed-pub"))).length>0?[4,Object(jt.d)("//s.imgur.com/min/embed.js")]:[3,2];case 1:if(n.sent(),!window.imgurEmbed)throw new Error("The Imgur post failed to load");if(window.imgurEmbed.createIframe)for(e=t.length,r=0;r<e;r++)window.imgurEmbed.createIframe();else window.imgurEmbed.tasks=t.length;n.label=2;case 2:return[2]}})})}
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */var Zt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kt=function(t,e,r,n){return new(r||(r=Promise))(function(o,a){function i(t){try{c(n.next(t))}catch(t){a(t)}}function s(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(i,s)}c((n=n.apply(t,e||[])).next())})},Xt=function(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};var Yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Zt(e,t),e.prototype.render=function(){var t=this.props.data,e=t.attributes,r=t.url,n=e.permaLink,o=e.versionNumber,i=e.isCaptioned;if(!t.attributes.permaLink)throw new Error("Attempted to embed a Instagram post failed link is invalid");return a.a.createElement("blockquote",{className:"instagram-media","data-instgrmPermalink":n,"data-instgrmVersion":o,"data-instgrmCaptioned":i},a.a.createElement("a",{href:r},r))},e.prototype.componentDidMount=function(){te().then(this.props.onRenderComplete)},e.prototype.componentDidUpdate=function(){te().then(this.props.onRenderComplete)},e}(Lt);function te(){return Kt(this,void 0,void 0,function(){return Xt(this,function(t){switch(t.label){case 0:return document.querySelectorAll(".instagram-media").length>0?[4,Object(jt.d)("//platform.instagram.com/en_US/embeds.js")]:[3,2];case 1:if(t.sent(),!window.instgrm)throw new Error("The Instagram post failed to load");window.instgrm.Embeds.process(),t.label=2;case 2:return[2]}})})}var ee=r(32),re=r.n(ee),ne=r(94),oe=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();var ae=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return oe(e,t),e.prototype.render=function(){var t=this.props.data,e=t.name,r=t.attributes,n=t.url,o=t.photoUrl,i=t.body,s=e?a.a.createElement("h3",{className:"embedText-title embedLink-title"},e):null,c=a.a.createElement("span",{className:"embedLink-source meta"},n),u=null;o&&(u=a.a.createElement("img",{src:o,className:"embedLink-image","aria-hidden":"true"}));var l=r.timestamp&&r.humanTime?a.a.createElement("time",{className:"embedLink-dateTime meta",dateTime:r.timestamp},r.humanTime):null,p=Object($t.j)(n);return a.a.createElement("a",{className:"embedLink-link",href:p,rel:"noreferrer"},a.a.createElement("article",{className:"embedText-body embedLink-body"},u,a.a.createElement("div",{className:"embedText-main embedLink-main"},a.a.createElement("div",{className:"embedText-header embedLink-header"},s,l,c),a.a.createElement("div",{className:"embedLink-excerpt"},i))))},e}(Lt);function ie(t){void 0===t&&(t=document.body),t.querySelectorAll(".embedLink-excerpt").forEach(function(t){var e=Object(jt.f)(t,"untruncatedText");e?t.innerHTML=e:(e=t.innerHTML,Object(jt.m)(t,"untruncatedText",e)),function(t){var e=parseInt(getComputedStyle(t)["max-height"],10);e&&e>0&&Object(ne.a)(t,e)}
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */(t)})}var se=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();var ce=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return se(e,t),e.prototype.render=function(){var t=this.props.data.attributes,e=t.postID,r=t.visual,n=t.showArtwork,o=t.embedUrl;if(null==e)throw new Error("Soundcloud embed fail, the track could not be found");var i=o+e+"&visual="+(r||"false")+"&show_artwork="+(n||"false");return a.a.createElement("iframe",{width:"100%",scrolling:"no",frameBorder:"no",src:i})},e}(Lt),ue=function(t,e,r,n){return new(r||(r=Promise))(function(o,a){function i(t){try{c(n.next(t))}catch(t){a(t)}}function s(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(i,s)}c((n=n.apply(t,e||[])).next())})},le=function(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */function pe(t,e){return ue(this,void 0,void 0,function(){var r,n,o;return le(this,function(a){switch(a.label){case 0:return r=t.content,[4,Object(jt.d)("//platform.twitter.com/widgets.js")];case 1:if(a.sent(),!window.twttr)throw new Error("The Twitter widget failed to load.");if(null==e.attributes.statusID)throw new Error("Attempted to embed a tweet but the statusID could not be found");return r.classList.contains("js-twitterCardLoaded")||r.classList.contains("js-twitterCardPreload")?[3,3]:(r.classList.add("js-twitterCardPreload"),n={conversation:"none"},[4,window.twttr.widgets.createTweet(e.attributes.statusID,r,n)]);case 2:a.sent(),(o=r.querySelector(".tweet-url"))&&o.remove(),r.classList.add("js-twitterCardLoaded"),a.label=3;case 3:return[2]}})})}function de(){return ue(this,void 0,void 0,function(){var t,e;return le(this,function(r){switch(r.label){case 0:return(t=Array.from(document.querySelectorAll(".js-twitterCard"))).length>0?[4,Object(jt.d)("//platform.twitter.com/widgets.js")]:[3,3];case 1:return r.sent(),window.twttr?(e=t.map(function(t){var e=t.getAttribute("data-tweetid");return pe({content:t,root:null},{type:"twitter",url:t.getAttribute("data-tweeturl")||"",attributes:{statusID:e}})}),[4,Promise.all(e)]):[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})}var fe=r(22),he=r.n(fe),me=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();var be=function(t){function e(e){var r=t.call(this,e)||this;return r.clickHandler=function(){r.setState({isPlaying:!0})},r.state={isPlaying:!1},r}return me(e,t),e.prototype.render=function(){var t=this.props.data,e=t.name,r=t.height,n=t.width,o=t.attributes,i=t.photoUrl,s=o.embedUrl,c=this.ratioClass,u=c?{}:{paddingTop:(r||3)/(n||4)*100+"%"},l=a.a.createElement("div",{className:"embedVideo-ratio "+c,style:u},a.a.createElement("button",{type:"button","data-url":s,"aria-label":e||void 0,className:"embedVideo-playButton iconButton"},a.a.createElement("img",{onClick:this.clickHandler,src:i||void 0,role:"presentation",className:"embedVideo-thumbnail"}),a.a.createElement("span",{className:"embedVideo-scrim"}),a.a.createElement(ge,null)));return this.state.isPlaying?a.a.createElement(ye,{url:s}):l},Object.defineProperty(e.prototype,"ratioClass",{get:function(){var t=this.props.data,e=t.height,r=t.width;switch(Object($t.k)(e||3,r||4).shorthand){case"21:9":return"is21by9";case"16:9":return"is16by9";case"4:3":return"is4by3";case"1:1":return"is1by1"}},enumerable:!0,configurable:!0}),e}(Lt);function ye(t){return a.a.createElement("iframe",{frameBorder:"0",allow:"autoplay; encrypted-media",className:"embedVideo-iframe",src:t.url,allowFullScreen:!0})}function ge(){var t={fill:"currentColor",strokeWidth:.3};return a.a.createElement("svg",{className:"embedVideo-playIcon",xmlns:"http://www.w3.org/2000/svg",viewBox:"-1 -1 24 24"},a.a.createElement("title",null,Object(n.m)("Play Video")),a.a.createElement("path",{className:"embedVideo-playIconPath embedVideo-playIconPath-circle",style:t,d:"M11,0A11,11,0,1,0,22,11,11,11,0,0,0,11,0Zm0,20.308A9.308,9.308,0,1,1,20.308,11,9.308,9.308,0,0,1,11,20.308Z"}),a.a.createElement("polygon",{className:"embedVideo-playIconPath embedVideo-playIconPath-triangle",style:t,points:"8.609 6.696 8.609 15.304 16.261 11 8.609 6.696"}))}function ve(){var t=this.closest(".embedVideo-ratio");if(t){var e=this.dataset.url;he.a.render(a.a.createElement(ye,{url:e}),t)}}
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */function we(){var t=this.closest(".spoiler");t&&t.classList.toggle("isShowingSpoiler")}
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */var Oe=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_e=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}},je=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={maxHeight:"100%"},e.selfRef=a.a.createRef(),e}return Oe(e,t),e.prototype.render=function(){var t={overflow:"hidden",maxHeight:this.state.maxHeight};return a.a.createElement("div",{id:this.props.id,className:"collapsableContent userContent",style:t,ref:this.selfRef,dangerouslySetInnerHTML:this.props.dangerouslySetInnerHTML})},e.prototype.componentDidMount=function(){var t=this;this.calcMaxHeight(),window.addEventListener("resize",function(){return re()(function(){t.calcMaxHeight()},200)()})},e.prototype.componentDidUpdate=function(t){t.dangerouslySetInnerHTML.__html===this.props.dangerouslySetInnerHTML.__html&&t.isCollapsed===this.props.isCollapsed||this.calcMaxHeight()},e.prototype.getHeightInfo=function(){var t,e,r=this.selfRef.current;if(null===r)return{height:null,needsCollapser:!1};if(r.childElementCount<=1)return{height:null,needsCollapser:!1};var n=0,o=0;try{for(var a=_e(Array.from(r.children)),i=a.next();!i.done;i=a.next()){var s=i.value;if(n>this.props.preferredMaxHeight)return{height:n,needsCollapser:!0};var c=Object(jt.h)(s,o),u=c.height,l=c.bottomMargin;if(n>0&&u>this.props.preferredMaxHeight)return{height:n,needsCollapser:!0};o=l,n+=u}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return{height:n,needsCollapser:n>this.props.preferredMaxHeight}},e.prototype.calcMaxHeight=function(){var t=this.getHeightInfo(),e=t.height,r=t.needsCollapser;r&&this.props.isCollapsed?this.setState({maxHeight:e}):this.setState({maxHeight:this.selfRef.current.scrollHeight}),this.props.setNeedsCollapser&&this.props.setNeedsCollapser(r)},e}(a.a.PureComponent),Ee=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Se=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};function Ce(){var t,e,r=document.querySelectorAll(".js-quoteEmbed"),n=function(t){var e=t.getAttribute("data-json");if(e){var r=JSON.parse(e);he.a.render(a.a.createElement(xe,{data:r,inEditor:!1,onRenderComplete:function(){t.removeAttribute("data-json"),t.classList.remove("embedResponsive-initialLink")}}),t)}};try{for(var o=Se(r),i=o.next();!i.done;i=o.next()){n(i.value)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}}function Pe(){return a.a.createElement("svg",{className:"icon embedQuote-chevronUp",viewBox:"0 0 20 20"},a.a.createElement("title",null,Object(n.m)("â–²")),a.a.createElement("path",{fill:"currentColor","stroke-linecap":"square","fill-rule":"evenodd",d:"M6.79521339,4.1285572 L6.13258979,4.7726082 C6.04408814,4.85847112 6,4.95730046 6,5.0690962 C6,5.18057569 6.04408814,5.27940502 6.13258979,5.36526795 L11.3416605,10.4284924 L6.13275248,15.4915587 C6.04425083,15.5774216 6.00016269,15.6762509 6.00016269,15.7878885 C6.00016269,15.8995261 6.04425083,15.9983555 6.13275248,16.0842184 L6.79537608,16.7282694 C6.88371504,16.8142905 6.98539433,16.8571429 7.10025126,16.8571429 C7.21510819,16.8571429 7.31678748,16.8141323 7.40512644,16.7282694 L13.5818586,10.7248222 C13.6701976,10.6389593 13.7142857,10.54013 13.7142857,10.4284924 C13.7142857,10.3168547 13.6701976,10.2181835 13.5818586,10.1323206 L7.40512644,4.1285572 C7.31678748,4.04269427 7.21510819,4 7.10025126,4 C6.98539433,4 6.88371504,4.04269427 6.79521339,4.1285572 L6.79521339,4.1285572 Z",transform:"rotate(-90 9.857 10.429)"}))}function Ne(){return a.a.createElement("svg",{className:"icon embedQuote-chevronDown",viewBox:"0 0 20 20"},a.a.createElement("title",null,Object(n.m)("â–¼")),a.a.createElement("path",{fill:"currentColor","stroke-linecap":"square","fill-rule":"evenodd",d:"M6.79521339,4.1285572 L6.13258979,4.7726082 C6.04408814,4.85847112 6,4.95730046 6,5.0690962 C6,5.18057569 6.04408814,5.27940502 6.13258979,5.36526795 L11.3416605,10.4284924 L6.13275248,15.4915587 C6.04425083,15.5774216 6.00016269,15.6762509 6.00016269,15.7878885 C6.00016269,15.8995261 6.04425083,15.9983555 6.13275248,16.0842184 L6.79537608,16.7282694 C6.88371504,16.8142905 6.98539433,16.8571429 7.10025126,16.8571429 C7.21510819,16.8571429 7.31678748,16.8141323 7.40512644,16.7282694 L13.5818586,10.7248222 C13.6701976,10.6389593 13.7142857,10.54013 13.7142857,10.4284924 C13.7142857,10.3168547 13.6701976,10.2181835 13.5818586,10.1323206 L7.40512644,4.1285572 C7.31678748,4.04269427 7.21510819,4 7.10025126,4 C6.98539433,4 6.88371504,4.04269427 6.79521339,4.1285572 L6.79521339,4.1285572 Z",transform:"rotate(90 9.857 10.429)"}))}var xe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={isCollapsed:!0,renderedBody:"",needsCollapseButton:!1},e.setNeedsCollapser=function(t){e.setState({needsCollapseButton:t})},e.toggleCollapseState=function(t){t.preventDefault(),e.setState({isCollapsed:!e.state.isCollapsed})},e}return Ee(e,t),e.prototype.render=function(){var t=this.quoteData,e=t.body,r=t.insertUser,o=nt()("collapsableContent-"),i=this.quoteData.name,s=i?a.a.createElement("h2",{className:"embedText-title embedQuote-title"},a.a.createElement("a",{href:this.quoteData.url,className:"embedText-titleLink"},i)):null,c=h()("embedText-body","embedQuote-body",{isCollapsed:this.state.isCollapsed}),u=Object(n.j)(r.name);return a.a.createElement("blockquote",{className:c},a.a.createElement("div",{className:"embedText-header embedQuote-header"},s,a.a.createElement("a",{href:u,className:"embedQuote-userLink"},a.a.createElement("span",{className:"embedQuote-userPhotoWrap"},a.a.createElement("img",{src:r.photoUrl,alt:r.name,className:"embedQuote-userPhoto",tabIndex:-1})),a.a.createElement("span",{className:"embedQuote-userName"},r.name)),a.a.createElement("a",{href:this.quoteData.url,className:"embedQuote-metaLink"},a.a.createElement("time",{className:"embedText-dateTime embedQuote-dateTime meta",dateTime:this.dateTime,title:this.titleTime},this.humanTime)),this.state.needsCollapseButton&&a.a.createElement("button",{type:"button",className:"embedQuote-collapseButton","aria-label":Object(n.m)("Toggle Quote"),onClick:this.toggleCollapseState,"aria-pressed":this.state.isCollapsed},this.state.isCollapsed?a.a.createElement(Ne,null):a.a.createElement(Pe,null))),a.a.createElement("div",{className:"embedText-main embedQuote-main"},a.a.createElement("div",{className:"embedQuote-excerpt"},a.a.createElement(je,{setNeedsCollapser:this.setNeedsCollapser,isCollapsed:this.state.isCollapsed,id:o,preferredMaxHeight:100,dangerouslySetInnerHTML:{__html:e||this.state.renderedBody}}))))},e.prototype.componentDidMount=function(){var t=this;if(this.quoteData.body)this.props.onRenderComplete();else{var e="Rich"===this.quoteData.format?JSON.stringify(this.quoteData.bodyRaw):this.quoteData.bodyRaw;l.a.post("/rich/quote",{body:e,format:this.quoteData.format}).then(function(e){t.setState({renderedBody:e.data.quote},t.props.onRenderComplete)})}},Object.defineProperty(e.prototype,"quoteData",{get:function(){return this.props.data.attributes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateTime",{get:function(){return this.quoteData.dateUpdated||this.quoteData.dateInserted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titleTime",{get:function(){return new Date(this.dateTime).toLocaleString(void 0,{year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric"})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"humanTime",{get:function(){return new Date(this.dateTime).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric"})},enumerable:!0,configurable:!0}),e}(a.a.Component);
/**
 * Wire together the different parts of the application.
 *
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */Object(n.l)(function(){return Object(jt.a)(document.body)}),Object(n.k)(function(){return Object(jt.a)(document.body)}),Object(jt.b)("click",".js-toggleSpoiler",we),Object(Dt.b)("codepen",qt),Object(Mt.b)(),Object(Dt.b)("giphy",Ht),Object(Dt.b)("image",Vt),Object(Dt.b)("imgur",zt),Object(n.k)(Jt),Object(Dt.b)("instagram",Yt),Object(n.k)(te),Object(Dt.b)("link",ae),ie(),window.addEventListener("resize",function(){return re()(ie,200)()}),Object(Dt.b)("soundcloud",ce),Object(Dt.c)("twitter",pe),Object(n.k)(de),de().then(),Object(Dt.b)("youtube",be),Object(Dt.b)("vimeo",be),Object(Dt.b)("twitch",be),Object(Dt.b)("wistia",be),Object(jt.b)("click",".js-playVideo",ve),Object(Dt.b)("quote",xe),Object(n.k)(Ce),Object(Et.b)("authenticate",kt),Object(Et.b)("users",It),Object(n.c)("App",_t),Object(n.d)([a.a.createElement(i.a,{exact:!0,path:"/authenticate/signin",component:K}),a.a.createElement(i.a,{exact:!0,path:"/authenticate/password",component:Y}),a.a.createElement(i.a,{exact:!0,path:"/authenticate/recoverpassword",component:ft})]),Object(n.l)(function(){Object(jt.n)()});r(151);
/**
 * At-who setup for legacy @mentions.
 *
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */var ke,Te=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,a=r.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},Ae={},Ie={},Re=Object(n.g)("mentionMinChars",2),Le=Object(n.g)("mentionSuggestionCount",5),De=30,Ue=Object(n.g)("emoji",{}),qe=Ue.emoji||{},Me=Ue.format||"",Be=Ue.assetPath||"",He=Object.entries(qe).map(function(t){var e=Te(t,2),r=e[0],n=e[1],o=n.split(".");return{name:r,filename:n,basename:o[0],ext:"."+o[1]}}),$e='<li data-value=":${name}:" class="at-suggest-emoji"><span class="emoji-wrap">'+Me.replace(/{(.+?)}/g,"$${$1}").replace("%1$s","${src}").replace("%2$s","${name}").replace("${src}",Be+"/${filename}").replace("${dir}",Be)+'</span> <span class="emoji-name">${name}</span></li>';function Qe(t,e,r){var n=Object($t.i)(e,r);return n?(ke=n.rawMatch,n.match):null}function Ve(t,e,r){t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),r&&(t="(?:^|\\s)"+t);var n=new RegExp(t+"([A-Za-z0-9_+-]*|[^\\x00-\\xff]*)(?:\\n)?$","gi").exec(e);return n?n[2]||n[1]:null}function Ge(t,e){var r=e?e.contentWindow:"";$(t).atwho({at:"@",tpl:'<li data-value="@${name}" data-id="${id}">${name}</li>',limit:Le,callbacks:{remote_filter:function(t,e){if((t=t||"").length>=Re){for(var r=!0,o="",a=0,i=t.length;a<i;a++)if(o=t.slice(0,-a),Ae[o]&&Ae[o].length<De){Ie[t]=t,r=!1;break}var s=!1;for(var c in Ie)if(Ie.hasOwnProperty(c)&&null!==t.match(new RegExp("^"+c+"+"))){s=!0;break}!r||s||Ae[t]?e(r?Ae[t]:Ae[o]):$.getJSON(Object(n.f)("/user/tagsearch"),{q:t,limit:De},function(r){Array.isArray(r)&&r.forEach(function(t){"object"==typeof t&&"string"==typeof t.name&&(t.name=t.name.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"))}),e(r),r.length?Ae[t]=r:Ie[t]=t})}},before_insert:function(t,e){var r=e.data("value")||"";r=r.slice(1,r.length);var n=/[^\w-]/.test(r),o=/(["'])(.+)(["'])/g.test(r),a=r;return n&&!o&&(a='"'+r+'"'),/.?@(["'])/.test(ke||"")||(a=this.at+a),a},highlighter:function(t,e){if(!e)return t;var r=new RegExp(">\\s*(\\w*)("+e.replace("+","\\+")+")(\\w*)\\s*(\\s+.+)?<","ig");return t.replace(r,function(t,e,r,n,o){return void 0===n&&(n=""),void 0===o&&(o=""),"> "+e+"<strong>"+r+"</strong>"+n+o+" <"})},matcher:Qe},cWindow:r}).atwho({at:":",tpl:$e,insert_tpl:"${atwho-data-value}",callbacks:{matcher:Ve,tplEval:function(t,e){return Object($t.f)(e)}},limit:Le,data:He,cWindow:r}),r&&$(r).on("reposition.atwho",function(t,r,n){var o=n.view.$el,a=n.$inputor,i=parseInt(a.css("line-height"),10),s=$(e).offset(),c=(s?s.left:0)+r.left,u=s?s.top:0,l=0,p=n.at,d=n.query.text,f=$(".BodyBox,.js-bodybox"),h=f.css("font-size")+" "+f.css("font-family"),m=(p+d).width(h)-2;"@"===p&&(c-=m),":"===p&&(c-=2),$(o).each(function(t,e){var r=$(e).outerHeight(),n=$(e).height();r&&n&&r>0&&(l+=n+i)});var b=$(window).height()||0,y=$(window).scrollTop()||0,g={left:c,top:u=b-(u+r.top-($(window).scrollTop()||0)-y)>=l?u+r.top+l-y:u+r.top-y};$(o).offset(g)})}
/**
 * Entrypoint for gradually replacing global.js
 *
 * At some point everything in this folder should be able to be removed (new base theme).
 *
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */$.fn.atwho&&(Object(n.l)(function(){return Ge(".BodyBox,.js-bodybox")}),Object(n.k)(function(){return Ge(".BodyBox,.js-bodybox")}),window.gdn.atCompleteInit=Ge);
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */},36:function(t,e,r){"use strict";r.r(e);var n=r(1);
/**
 * Set wepback's public path.
 * Otherwise the lookups of dynamically imported webpack files can fail on sites that have a different webroot
 * Eg. installed in a subfolder / using Reverse Proxy.
 *
 * @author Adam Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license http://www.opensource.org/licenses/gpl-2.0.php GNU GPL v2
 */r.p=Object(n.e)("/")},61:function(t,e,r){"use strict";(function(t){r.d(e,"b",function(){return u}),r.d(e,"a",function(){return p});var n=r(4),o=r(7),a=r(1),i=function(t,e,r,n){return new(r||(r=Promise))(function(o,a){function i(t){try{c(n.next(t))}catch(t){a(t)}}function s(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(i,s)}c((n=n.apply(t,e||[])).next())})},s=function(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},c=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};function u(){Object(n.c)("getty",l),Object(a.l)(p),Object(a.k)(p)}function l(e,r){return i(this,void 0,void 0,function(){var n,o,a;return s(this,function(i){return n=e.content,o=r.attributes.post,(a=document.createElement("a")).classList.add("gie-single"),a.setAttribute("href","http://www.gettyimages.ca/detail/"+o),a.setAttribute("id",r.attributes.id),n.style.width=r.width+"px",n.appendChild(a),t(function(){d(r)}),[2]})})}function p(){return i(this,void 0,void 0,function(){var t,e,r,n,o,a,i,u,l,p,f,h,m,b,y,g;return s(this,function(s){switch(s.label){case 0:if(!((r=document.querySelectorAll(".js-gettyEmbed")).length>0))return[3,8];s.label=1;case 1:s.trys.push([1,6,7,8]),n=c(r),o=n.next(),s.label=2;case 2:return o.done?[3,5]:(a=o.value,i=a.getAttribute("href")||"",u=a.getAttribute("id"),l=a.getAttribute("data-sig"),p=Number(a.getAttribute("data-height"))||1,f=Number(a.getAttribute("data-width"))||1,h=a.getAttribute("data-items"),m=a.getAttribute("data-capt"),b=a.getAttribute("data-tld"),y=a.getAttribute("data-is360"),[4,d({type:"getty",url:i,height:p,width:f,attributes:{id:u,sig:l,items:h,capt:m,tld:b,i360:y}})]);case 3:s.sent(),a.classList.remove("js-gettyEmbed"),s.label=4;case 4:return o=n.next(),[3,2];case 5:return[3,8];case 6:return g=s.sent(),t={error:g},[3,8];case 7:try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}return[7];case 8:return[2]}})})}function d(t){return i(this,void 0,void 0,function(){var e;return s(this,function(r){switch(r.label){case 0:return e=function(t){(window.gie.q=window.gie.q||[]).push(t)},window.gie=window.gie||e,window.gie(function(){window.gie.widgets.load({id:t.attributes.id,sig:t.attributes.sig,w:t.width+"px",h:t.height+"px",items:t.attributes.items,caption:t.attributes.isCaptioned,tld:t.attributes.tld,is360:t.attributes.is360})}),[4,Object(o.d)("//embed-cdn.gettyimages.com/widgets.js")];case 1:return r.sent(),[2]}})})}}).call(this,r(99).setImmediate)}},[[111,2,0,1]]]);
//# sourceMappingURL=forum.min.js.map?f9cb23ee3ddaa017e01f